!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(t.braintree||(t.braintree={})).dropin=e()}}(function(){var e;return function e(t,i,n){function r(a,s){if(!i[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var d=i[a]={exports:{}};t[a][0].call(d.exports,function(e){var i=t[a][1][e];return r(i?i:e)},d,d.exports,e,t,i,n)}return i[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)r(n[a]);return r}({1:[function(t,i,n){(function(r){!function(t){if("object"==typeof n&&"undefined"!=typeof i)i.exports=t();else if("function"==typeof e&&e.amd)e([],t);else{var o;o="undefined"!=typeof window?window:"undefined"!=typeof r?r:"undefined"!=typeof self?self:this,(o.braintree||(o.braintree={})).client=t()}}(function(){return function e(i,n,r){function o(s,c){if(!n[s]){if(!i[s]){var l="function"==typeof t&&t;if(!c&&l)return l(s,!0);if(a)return a(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var p=n[s]={exports:{}};i[s][0].call(p.exports,function(e){var t=i[s][1][e];return o(t?t:e)},p,p.exports,e,i,n,r)}return n[s].exports}for(var a="function"==typeof t&&t,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,i){"use strict";function n(e){var t,i;if(e=e||{},t=JSON.stringify(e),i=e.gatewayConfiguration,!i)throw new a(l.CLIENT_MISSING_GATEWAY_CONFIGURATION);["assetsUrl","clientApiUrl","configUrl"].forEach(function(e){if(e in i&&!o(i[e]))throw new a({type:l.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.type,code:l.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.code,message:e+" property is on an invalid domain."})}),this.getConfiguration=function(){return JSON.parse(t)},this._request=r,this._baseUrl=e.gatewayConfiguration.clientApiUrl+"/v1/",this._configuration=this.getConfiguration()}var r=e("./request"),o=e("../lib/is-whitelisted-domain"),a=e("../lib/braintree-error"),s=e("../lib/add-metadata"),c=e("../lib/deferred"),l=e("./errors");n.prototype.request=function(e,t){var i;return e.method?e.endpoint||(i="options.endpoint"):i="options.method",i?(t=c(t),void t(new a({type:l.CLIENT_OPTION_REQUIRED.type,code:l.CLIENT_OPTION_REQUIRED.code,message:i+" is required when making a request."}))):void this._request({url:this._baseUrl+e.endpoint,method:e.method,data:s(this._configuration,e.data),headers:e._headers,timeout:e.timeout},this._bindRequestCallback(t))},n.prototype._bindRequestCallback=function(e){return function(t,i,n){-1===n?e(new a(l.CLIENT_REQUEST_TIMEOUT),null,n):403===n?e(new a(l.CLIENT_AUTHORIZATION_INSUFFICIENT),null,n):429===n?e(new a(l.CLIENT_RATE_LIMITED),null,n):n>=500?e(new a(l.CLIENT_GATEWAY_NETWORK),null,n):200>n||n>=400?e(new a({type:l.CLIENT_REQUEST_ERROR.type,code:l.CLIENT_REQUEST_ERROR.code,message:l.CLIENT_REQUEST_ERROR.message,details:{originalError:t}}),null,n):e(null,i,n)}},n.prototype.toJSON=function(){return this.getConfiguration()},t.exports=n},{"../lib/add-metadata":12,"../lib/braintree-error":13,"../lib/deferred":16,"../lib/is-whitelisted-domain":19,"./errors":2,"./request":7}],2:[function(e,t,i){"use strict";var n=e("../lib/braintree-error");t.exports={CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN:{type:n.types.MERCHANT,code:"CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN"},CLIENT_OPTION_REQUIRED:{type:n.types.MERCHANT,code:"CLIENT_OPTION_REQUIRED"},CLIENT_MISSING_GATEWAY_CONFIGURATION:{type:n.types.INTERNAL,code:"CLIENT_MISSING_GATEWAY_CONFIGURATION",message:"Missing gatewayConfiguration."},CLIENT_INVALID_AUTHORIZATION:{type:n.types.MERCHANT,code:"CLIENT_INVALID_AUTHORIZATION",message:"Authorization is invalid. Make sure your client token or tokenization key is valid."},CLIENT_GATEWAY_NETWORK:{type:n.types.NETWORK,code:"CLIENT_GATEWAY_NETWORK",message:"Cannot contact the gateway at this time."},CLIENT_REQUEST_TIMEOUT:{type:n.types.NETWORK,code:"CLIENT_REQUEST_TIMEOUT",message:"Request timed out waiting for a reply."},CLIENT_REQUEST_ERROR:{type:n.types.NETWORK,code:"CLIENT_REQUEST_ERROR",message:"There was a problem with your request."},CLIENT_RATE_LIMITED:{type:n.types.MERCHANT,code:"CLIENT_RATE_LIMITED",message:"You are being rate-limited; please try again in a few minutes."},CLIENT_AUTHORIZATION_INSUFFICIENT:{type:n.types.MERCHANT,code:"CLIENT_AUTHORIZATION_INSUFFICIENT",message:"The authorization used has insufficient privileges."}}},{"../lib/braintree-error":13}],3:[function(e,t,i){(function(i){"use strict";function n(e,t){var n,d,p,u,h=a(),f={merchantAppId:i.location.host,platform:s.PLATFORM,sdkVersion:s.VERSION,source:s.SOURCE,integration:s.INTEGRATION,integrationType:s.INTEGRATION,sessionId:h};try{d=c(e.authorization)}catch(e){return void t(new r(l.CLIENT_INVALID_AUTHORIZATION))}p=d.attrs,u=d.configUrl,p._meta=f,p.braintreeLibraryVersion=s.BRAINTREE_LIBRARY_VERSION,p.configVersion="3",o({url:u,method:"GET",data:p},function(i,o,a){var s;return i?(s=403===a?l.CLIENT_AUTHORIZATION_INSUFFICIENT:l.CLIENT_GATEWAY_NETWORK,void t(new r({type:s.type,code:s.code,message:s.message,details:{originalError:i}}))):(n={authorization:e.authorization,authorizationType:p.tokenizationKey?"TOKENIZATION_KEY":"CLIENT_TOKEN",analyticsMetadata:f,gatewayConfiguration:o},void t(null,n))})}var r=e("../lib/braintree-error"),o=e("./request"),a=e("../lib/uuid"),s=e("../lib/constants"),c=e("../lib/create-authorization-data"),l=e("./errors");t.exports={getConfiguration:n}}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/braintree-error":13,"../lib/constants":14,"../lib/create-authorization-data":15,"../lib/uuid":25,"./errors":2,"./request":7}],4:[function(e,t,i){"use strict";function n(e,t){return s(t,"create"),t=l(t),e.authorization?void a(e,function(e,i){var n;if(e)return void t(e);try{n=new o(i)}catch(e){return void t(e)}t(null,n)}):void t(new r({type:d.INSTANTIATION_OPTION_REQUIRED.type,code:d.INSTANTIATION_OPTION_REQUIRED.code,message:"options.authorization is required when instantiating a client."}))}var r=e("../lib/braintree-error"),o=e("./client"),a=e("./get-configuration").getConfiguration,s=e("../lib/throw-if-no-callback"),c="3.7.0",l=e("../lib/deferred"),d=e("../lib/errors");t.exports={create:n,VERSION:c}},{"../lib/braintree-error":13,"../lib/deferred":16,"../lib/errors":18,"../lib/throw-if-no-callback":24,"./client":1,"./get-configuration":3}],5:[function(e,t,i){(function(i){"use strict";function n(){return c?new XMLHttpRequest:new XDomainRequest}function r(e,t){var i,r,l=e.method,d=e.url,p=e.data,u=e.timeout,h=e.headers||{},f=n(),y=t;"GET"===l&&(d=o.queryify(d,p),p=null),c?f.onreadystatechange=function(){4===f.readyState&&(i=f.status,r=s(f.responseText),i>=400||200>i?y(r||"error",null,i||500):y(null,r,i))}:(f.onload=function(){y(null,s(f.responseText),f.status)},f.onerror=function(){y("error",null,500)},f.onprogress=function(){},f.ontimeout=function(){y("timeout",null,-1)}),f.open(l,d,!0),f.timeout=u,c&&(f.setRequestHeader("Content-Type","application/json"),Object.keys(h).forEach(function(e){f.setRequestHeader(e,h[e])}));try{f.send(a(l,p))}catch(e){}}var o=e("../../lib/querystring"),a=e("./prep-body"),s=e("./parse-body"),c=i.XMLHttpRequest&&"withCredentials"in new i.XMLHttpRequest;t.exports={request:r}}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../lib/querystring":23,"./parse-body":10,"./prep-body":11}],6:[function(e,t,i){(function(e){"use strict";t.exports=function(){return e.navigator.userAgent}}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(e,t,i){"use strict";function n(){return null==r&&(r=!(l()&&/MSIE\s(8|9)/.test(c()))),r}var r,o=e("../../lib/once"),a=e("./jsonp-driver"),s=e("./ajax-driver"),c=e("./get-user-agent"),l=e("./is-http");t.exports=function(e,t){t=o(t||Function.prototype),e.method=(e.method||"GET").toUpperCase(),e.timeout=null==e.timeout?6e4:e.timeout,e.data=e.data||{},n()?s.request(e,t):a.request(e,t)}},{"../../lib/once":21,"./ajax-driver":5,"./get-user-agent":6,"./is-http":8,"./jsonp-driver":9}],8:[function(e,t,i){(function(e){"use strict";t.exports=function(){return"http:"===e.location.protocol}}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(e,t,i){(function(i){"use strict";function n(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function r(e,t){var n=document.createElement("script"),r=!1;return n.src=e,n.async=!0,n.onerror=function(){i[t]({message:"error",status:500})},n.onload=n.onreadystatechange=function(){r||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(r=!0,n.onload=n.onreadystatechange=null)},n}function o(e){try{delete i[e]}catch(t){i[e]=null}}function a(e,t){u[t]=setTimeout(function(){u[t]=null,i[t]({error:"timeout",status:-1}),i[t]=function(){o(t)}},e)}function s(e,t,r){i[r]=function(i){var a=i.status||500,s=null,c=null;delete i.status,a>=400||200>a?s=i:c=i,o(r),n(e),clearTimeout(u[r]),t(s,c,a)}}function c(e,t){var i,n="callback_json_"+d().replace(/-/g,""),o=e.url,c=e.data,u=e.method,h=e.timeout;o=p.queryify(o,c),o=p.queryify(o,{_method:u,callback:n}),i=r(o,n),s(i,t,n),a(h,n),l||(l=document.getElementsByTagName("head")[0]),l.appendChild(i)}var l,d=e("../../lib/uuid"),p=e("../../lib/querystring"),u={};t.exports={request:c}}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../lib/querystring":23,"../../lib/uuid":25}],10:[function(e,t,i){"use strict";t.exports=function(e){try{e=JSON.parse(e)}catch(e){}return e}},{}],11:[function(e,t,i){"use strict";t.exports=function(e,t){if("string"!=typeof e)throw new Error("Method must be a string");return"get"!==e.toLowerCase()&&null!=t&&(t="string"==typeof t?t:JSON.stringify(t)),t}},{}],12:[function(e,t,i){"use strict";function n(e,t){var i,n=t?o(t):{},s=r(e.authorization).attrs,c=o(e.analyticsMetadata);n.braintreeLibraryVersion=a.BRAINTREE_LIBRARY_VERSION;for(i in n._meta)n._meta.hasOwnProperty(i)&&(c[i]=n._meta[i]);return n._meta=c,s.tokenizationKey?n.tokenizationKey=s.tokenizationKey:n.authorizationFingerprint=s.authorizationFingerprint,n}var r=e("./create-authorization-data"),o=e("./json-clone"),a=e("./constants");t.exports=n},{"./constants":14,"./create-authorization-data":15,"./json-clone":20}],13:[function(e,t,i){"use strict";function n(e){if(!n.types.hasOwnProperty(e.type))throw new Error(e.type+" is not a valid type.");if(!e.code)throw new Error("Error code required.");if(!e.message)throw new Error("Error message required.");this.name="BraintreeError",this.code=e.code,this.message=e.message,this.type=e.type,this.details=e.details}var r=e("./enumerate");n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n.types=r(["CUSTOMER","MERCHANT","NETWORK","INTERNAL","UNKNOWN"]),t.exports=n},{"./enumerate":17}],14:[function(e,t,i){"use strict";var n="3.7.0",r="web";t.exports={ANALYTICS_PREFIX:"web.",ANALYTICS_REQUEST_TIMEOUT_MS:2e3,INTEGRATION_TIMEOUT_MS:6e4,VERSION:n,INTEGRATION:"custom",SOURCE:"client",PLATFORM:r,BRAINTREE_LIBRARY_VERSION:"braintree/"+r+"/"+n}},{}],15:[function(e,t,i){"use strict";function n(e){return/^[a-zA-Z0-9]+_[a-zA-Z0-9]+_[a-zA-Z0-9_]+$/.test(e)}function r(e){var t=e.split("_"),i=t[0],n=t.slice(2).join("_");return{merchantId:n,environment:i}}function o(e){var t,i,o={attrs:{},configUrl:""};return n(e)?(i=r(e),o.attrs.tokenizationKey=e,o.configUrl=s[i.environment]+"/merchants/"+i.merchantId+"/client_api/v1/configuration"):(t=JSON.parse(a(e)),o.attrs.authorizationFingerprint=t.authorizationFingerprint,o.configUrl=t.configUrl),o}var a=e("../lib/polyfill").atob,s={production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"};t.exports=o},{"../lib/polyfill":22}],16:[function(e,t,i){"use strict";t.exports=function(e){return function(){var t=arguments;setTimeout(function(){e.apply(null,t)},1)}}},{}],17:[function(e,t,i){"use strict";function n(e,t){return t=null==t?"":t,e.reduce(function(e,i){return e[i]=t+i,e},{})}t.exports=n},{}],18:[function(e,t,i){"use strict";var n=e("./braintree-error");t.exports={CALLBACK_REQUIRED:{type:n.types.MERCHANT,code:"CALLBACK_REQUIRED"},INSTANTIATION_OPTION_REQUIRED:{type:n.types.MERCHANT,code:"INSTANTIATION_OPTION_REQUIRED"},INCOMPATIBLE_VERSIONS:{type:n.types.MERCHANT,code:"INCOMPATIBLE_VERSIONS"},METHOD_CALLED_AFTER_TEARDOWN:{type:n.types.MERCHANT,code:"METHOD_CALLED_AFTER_TEARDOWN"},BRAINTREE_API_ACCESS_RESTRICTED:{type:n.types.MERCHANT,code:"BRAINTREE_API_ACCESS_RESTRICTED",message:"Your access is restricted and cannot use this part of the Braintree API."}}},{"./braintree-error":13}],19:[function(e,t,i){"use strict";function n(e){return e.split(".").slice(-2).join(".")}function r(e){var t;return e=e.toLowerCase(),!!/^https:/.test(e)&&(o=o||document.createElement("a"),o.href=e,t=n(o.hostname),a.hasOwnProperty(t))}var o,a={"paypal.com":1,"braintreepayments.com":1,"braintreegateway.com":1};t.exports=r},{}],20:[function(e,t,i){"use strict";t.exports=function(e){return JSON.parse(JSON.stringify(e))}},{}],21:[function(e,t,i){"use strict";function n(e){var t=!1;return function(){t||(t=!0,e.apply(null,arguments))}}t.exports=n},{}],22:[function(e,t,i){(function(e){"use strict";function i(e){var t,i,n,r,o,a,s,c,l=new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$"),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",p="";if(!l.test(e))throw new Error("Non base64 encoded input passed to window.atob polyfill");c=0;do r=d.indexOf(e.charAt(c++)),o=d.indexOf(e.charAt(c++)),a=d.indexOf(e.charAt(c++)),s=d.indexOf(e.charAt(c++)),t=(63&r)<<2|o>>4&3,i=(15&o)<<4|a>>2&15,n=(3&a)<<6|63&s,p+=String.fromCharCode(t)+(i?String.fromCharCode(i):"")+(n?String.fromCharCode(n):"");while(c<e.length);return p}var n="function"==typeof e.atob?e.atob:i;t.exports={atob:n,_atob:i}}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],23:[function(e,t,i){(function(e){"use strict";function i(e){var t;for(t in e)if(e.hasOwnProperty(t))return!0;return!1}function n(e){return e&&"object"==typeof e&&"number"==typeof e.length&&"[object Array]"===Object.prototype.toString.call(e)||!1}function r(t){var i,n;return t=t||e.location.href,/\?/.test(t)?(i=t.replace(/#.*$/,"").replace(/^.*\?/,"").split("&"),n=i.reduce(function(e,t){var i=t.split("="),n=decodeURIComponent(i[0]),r=decodeURIComponent(i[1]);return e[n]=r,e},{})):{}}function o(e,t){var i,r,a,s=[];for(a in e)e.hasOwnProperty(a)&&(r=e[a],i=t?n(e)?t+"[]":t+"["+a+"]":a,"object"==typeof r?s.push(o(r,i)):s.push(encodeURIComponent(i)+"="+encodeURIComponent(r)));return s.join("&")}function a(e,t){return e=e||"",null!=t&&"object"==typeof t&&i(t)&&(e+=-1===e.indexOf("?")?"?":"",e+=-1!==e.indexOf("=")?"&":"",e+=o(t)),e}t.exports={parse:r,stringify:o,queryify:a}}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],24:[function(e,t,i){"use strict";var n=e("./braintree-error"),r=e("../lib/errors");t.exports=function(e,t){if("function"!=typeof e)throw new n({type:r.CALLBACK_REQUIRED.type,code:r.CALLBACK_REQUIRED.code,message:t+" must include a callback function."})}},{"../lib/errors":18,"./braintree-error":13}],25:[function(e,t,i){"use strict";function n(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,i="x"===e?t:3&t|8;return i.toString(16)})}t.exports=n},{}]},{},[4])(4)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,i,n){(function(r){!function(t){if("object"==typeof n&&"undefined"!=typeof i)i.exports=t();else if("function"==typeof e&&e.amd)e([],t);else{var o;o="undefined"!=typeof window?window:"undefined"!=typeof r?r:"undefined"!=typeof self?self:this,(o.braintree||(o.braintree={})).hostedFields=t()}}(function(){var e;return function e(i,n,r){function o(s,c){if(!n[s]){if(!i[s]){var l="function"==typeof t&&t;if(!c&&l)return l(s,!0);if(a)return a(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var p=n[s]={exports:{}};i[s][0].call(p.exports,function(e){var t=i[s][1][e];return o(t?t:e)},p,p.exports,e,i,n,r)}return n[s].exports}for(var a="function"==typeof t&&t,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,i){"use strict";function n(e){var t,i,n;return e?(t=e.prefixPattern.source,i=e.exactPattern.source,n=JSON.parse(JSON.stringify(e)),n.prefixPattern=t,n.exactPattern=i,n):null}function r(e){var t,i,r,a=[],s=[];if(!("string"==typeof e||e instanceof String))return[];for(r=0;r<E.length;r++)t=E[r],i=o[t],0!==e.length?i.exactPattern.test(e)?s.push(n(i)):i.prefixPattern.test(e)&&a.push(n(i)):a.push(n(i));return s.length?s:a}var o={},a="visa",s="master-card",c="american-express",l="diners-club",d="discover",p="jcb",u="unionpay",h="maestro",f="CVV",y="CID",m="CVC",_="CVN",E=[a,s,c,l,d,p,u,h];o[a]={niceType:"Visa",type:a,prefixPattern:/^4$/,exactPattern:/^4\d*$/,gaps:[4,8,12],lengths:[16],code:{name:f,size:3}},o[s]={niceType:"MasterCard",type:s,prefixPattern:/^(5|5[1-5]|2|22|222|222[1-9]|2[3-6]|27[0-1]|2720)$/,exactPattern:/^(5[1-5]|222[1-9]|2[3-6]|27[0-1]|2720)\d*$/,gaps:[4,8,12],lengths:[16],code:{name:m,size:3}},o[c]={niceType:"American Express",type:c,prefixPattern:/^(3|34|37)$/,exactPattern:/^3[47]\d*$/,isAmex:!0,gaps:[4,10],lengths:[15],code:{name:y,size:4}},o[l]={niceType:"Diners Club",type:l,prefixPattern:/^(3|3[0689]|30[0-5])$/,exactPattern:/^3(0[0-5]|[689])\d*$/,gaps:[4,10],lengths:[14],code:{name:f,size:3}},o[d]={niceType:"Discover",type:d,prefixPattern:/^(6|60|601|6011|65|64|64[4-9])$/,exactPattern:/^(6011|65|64[4-9])\d*$/,gaps:[4,8,12],lengths:[16,19],code:{name:y,size:3}},o[p]={niceType:"JCB",type:p,prefixPattern:/^(2|21|213|2131|1|18|180|1800|3|35)$/,exactPattern:/^(2131|1800|35)\d*$/,gaps:[4,8,12],lengths:[16],code:{name:f,size:3}},o[u]={niceType:"UnionPay",type:u,prefixPattern:/^(6|62)$/,exactPattern:/^62\d*$/,gaps:[4,8,12],lengths:[16,17,18,19],code:{name:_,size:3}},o[h]={niceType:"Maestro",type:h,prefixPattern:/^(5|5[06-9]|6\d*)$/,exactPattern:/^5[06-9]\d*$/,gaps:[4,8,12],lengths:[12,13,14,15,16,17,18,19],code:{name:m,size:3}},r.getTypeInfo=function(e){return n(o[e])},r.types={VISA:a,MASTERCARD:s,AMERICAN_EXPRESS:c,DINERS_CLUB:l,DISCOVER:d,JCB:p,UNIONPAY:u,MAESTRO:h},t.exports=r},{}],2:[function(t,i,n){(function(t){"use strict";!function(r,o){"object"==typeof n&&"undefined"!=typeof i?i.exports=o("undefined"==typeof t?r:t):"function"==typeof e&&e.amd?e([],function(){return o(r)}):r.framebus=o(r)}(this,function(e){function t(e){return null!=e&&(null!=e.Window&&(e.constructor===e.Window&&(b.push(e),!0)))}function i(e){var t,i={};for(t in g)g.hasOwnProperty(t)&&(i[t]=g[t]);return i._origin=e||"*",i}function n(e){var t,i,n=a(this);return!s(e)&&(!s(n)&&(i=Array.prototype.slice.call(arguments,1),t=c(e,i,n),t!==!1&&(y(v.top,t,n),!0)))}function r(e,t){var i=a(this);return!E(e,t,i)&&(I[i]=I[i]||{},I[i][e]=I[i][e]||[],I[i][e].push(t),!0)}function o(e,t){var i,n,r=a(this);if(E(e,t,r))return!1;if(n=I[r]&&I[r][e],!n)return!1;for(i=0;i<n.length;i++)if(n[i]===t)return n.splice(i,1),!0;return!1}function a(e){return e&&e._origin||"*"}function s(e){return"string"!=typeof e}function c(e,t,i){var n=!1,r={event:e,origin:i},o=t[t.length-1];"function"==typeof o&&(r.reply=_(o,i),t=t.slice(0,-1)),r.args=t;try{n=T+JSON.stringify(r)}catch(e){throw new Error("Could not stringify event: "+e.message)}return n}function l(e){var t,i,n,r;if(e.data.slice(0,T.length)!==T)return!1;try{t=JSON.parse(e.data.slice(T.length))}catch(e){return!1}return null!=t.reply&&(i=e.origin,n=e.source,r=t.reply,t.reply=function(e){var t=c(r,[e],i);return t!==!1&&void n.postMessage(t,i)},t.args.push(t.reply)),t}function d(t){v||(v=t||e,v.addEventListener?v.addEventListener("message",u,!1):v.attachEvent?v.attachEvent("onmessage",u):null===v.onmessage?v.onmessage=u:v=null)}function p(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,i="x"===e?t:3&t|8;return i.toString(16)})}function u(e){var t;s(e.data)||(t=l(e),t&&(h("*",t.event,t.args,e),h(e.origin,t.event,t.args,e),m(e.data,t.origin,e.source)))}function h(e,t,i,n){var r;if(I[e]&&I[e][t])for(r=0;r<I[e][t].length;r++)I[e][t][r].apply(n,i)}function f(e){return e.top===e&&(null!=e.opener&&(e.opener!==e&&e.opener.closed!==!0))}function y(e,t,i){var n;try{for(e.postMessage(t,i),f(e)&&y(e.opener.top,t,i),n=0;n<e.frames.length;n++)y(e.frames[n],t,i)}catch(e){}}function m(e,t,i){var n,r;for(n=b.length-1;n>=0;n--)r=b[n],r.closed===!0?b=b.slice(n,1):i!==r&&y(r.top,e,t)}function _(e,t){function i(r,o){e(r,o),g.target(t).unsubscribe(n,i)}var n=p();return g.target(t).subscribe(n,i),n}function E(e,t,i){return!!s(e)||("function"!=typeof t||!!s(i))}var v,g,b=[],I={},T="/*framebus*/";return d(),g={target:i,include:t,publish:n,pub:n,trigger:n,emit:n,subscribe:r,sub:r,on:r,unsubscribe:o,unsub:o,off:o}})}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,t,i){"use strict";var n=e("./lib/set-attributes"),r=e("./lib/default-attributes"),o=e("./lib/assign");t.exports=function(e){var t=document.createElement("iframe"),i=o({},r,e);return i.style&&"string"!=typeof i.style&&(o(t.style,i.style),delete i.style),n(t,i),t.getAttribute("id")||(t.id=t.name),t}},{"./lib/assign":4,"./lib/default-attributes":5,"./lib/set-attributes":6}],4:[function(e,t,i){"use strict";t.exports=function(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach(function(t){"object"==typeof t&&Object.keys(t).forEach(function(i){e[i]=t[i]})}),e}},{}],5:[function(e,t,i){t.exports={src:"about:blank",frameBorder:0,allowtransparency:!0,scrolling:"no"}},{}],6:[function(e,t,i){"use strict";t.exports=function(e,t){var i;for(var n in t)t.hasOwnProperty(n)&&(i=t[n],null==i?e.removeAttribute(n):e.setAttribute(n,i))}},{}],7:[function(e,t,i){"use strict";var n=e("../shared/constants");t.exports=function(e,t){return e+"/web/"+n.VERSION+"/html/hosted-fields-frame.min.html#"+t}},{"../shared/constants":11}],8:[function(e,t,i){"use strict";function n(e){return function(t){var i,n=t.merchantPayload,r=n.emittedBy,o=e[r].containerElement;Object.keys(n.fields).forEach(function(t){n.fields[t].container=e[t].containerElement}),i=n.fields[r],a.toggle(o,p.externalClasses.FOCUSED,i.isFocused),a.toggle(o,p.externalClasses.VALID,i.isValid),a.toggle(o,p.externalClasses.INVALID,!i.isPotentiallyValid),this._state={cards:n.cards,fields:n.fields},this._emit(t.type,n)}}function r(e){var t,i,y=this,m={},_=0,I=f();if(!e.client)throw new l({type:C.INSTANTIATION_OPTION_REQUIRED.type,code:C.INSTANTIATION_OPTION_REQUIRED.code,message:"options.client is required when instantiating Hosted Fields."});if(i=e.client.getConfiguration().analyticsMetadata.sdkVersion,i!==T)throw new l({type:C.INCOMPATIBLE_VERSIONS.type,code:C.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+i+") and Hosted Fields (version "+T+") components must be from the same SDK version."});if(!e.fields)throw new l({type:C.INSTANTIATION_OPTION_REQUIRED.type,code:C.INSTANTIATION_OPTION_REQUIRED.code,message:"options.fields is required when instantiating Hosted Fields."});v.call(this),this._injectedNodes=[],this._destructor=new o,this._fields=m,this._state={fields:{},cards:N("")},this._bus=new c({channel:I,merchantUrl:location.href}),this._destructor.registerFunctionForTeardown(function(){y._bus.teardown()}),this._client=e.client,b.sendEvent(this._client,"custom.hosted-fields.initialized"),Object.keys(e.fields).forEach(function(t){var i,n,r;if(!p.whitelistedFields.hasOwnProperty(t))throw new l({type:u.HOSTED_FIELDS_INVALID_FIELD_KEY.type,code:u.HOSTED_FIELDS_INVALID_FIELD_KEY.code,message:'"'+t+'" is not a valid field.'});if(i=e.fields[t],n=document.querySelector(i.selector),!n)throw new l({type:u.HOSTED_FIELDS_INVALID_FIELD_SELECTOR.type,code:u.HOSTED_FIELDS_INVALID_FIELD_SELECTOR.code,message:u.HOSTED_FIELDS_INVALID_FIELD_SELECTOR.message,details:{fieldSelector:i.selector,fieldKey:t}});if(n.querySelector('iframe[name^="braintree-"]'))throw new l({type:u.HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME.type,code:u.HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME.code,message:u.HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME.message,details:{fieldSelector:i.selector,fieldKey:t}});r=s({type:t,name:"braintree-hosted-field-"+t,style:p.defaultIFrameStyle}),this._injectedNodes=this._injectedNodes.concat(g(r,n)),this._setupLabelFocus(t,n),m[t]={frameElement:r,containerElement:n},_++,this._state.fields[t]={isEmpty:!0,isValid:!1,isPotentiallyValid:!0,isFocused:!1,container:n},setTimeout(function(){r.src=d(y._client.getConfiguration().gatewayConfiguration.assetsUrl,I)},0)}.bind(this)),t=setTimeout(function(){b.sendEvent(y._client,"custom.hosted-fields.load.timed-out")},h),this._bus.on(E.FRAME_READY,function(i){_--,0===_&&(clearTimeout(t),i(e),y._emit("ready"))}),this._bus.on(E.INPUT_EVENT,n(m).bind(this)),this._destructor.registerFunctionForTeardown(function(){var e,t,i;for(e=0;e<y._injectedNodes.length;e++)t=y._injectedNodes[e],i=t.parentNode,i.removeChild(t),a.remove(i,p.externalClasses.FOCUSED,p.externalClasses.INVALID,p.externalClasses.VALID)}),this._destructor.registerFunctionForTeardown(function(){var e=A(r.prototype).concat(A(v.prototype));O(y,e)})}var o=e("../../lib/destructor"),a=e("../../lib/classlist"),s=e("iframer"),c=e("../../lib/bus"),l=e("../../lib/braintree-error"),d=e("./compose-url"),p=e("../shared/constants"),u=e("../shared/errors"),h=e("../../lib/constants").INTEGRATION_TIMEOUT_MS,f=e("../../lib/uuid"),y=e("../shared/find-parent-tags"),m=e("../../lib/throw-if-no-callback"),_=e("../../lib/is-ios"),E=p.events,v=e("../../lib/event-emitter"),g=e("./inject-frame"),b=e("../../lib/analytics"),I=p.whitelistedFields,T="3.7.0",A=e("../../lib/methods"),O=e("../../lib/convert-methods-to-error"),w=e("../../lib/deferred"),C=e("../../lib/errors"),N=e("credit-card-type");r.prototype=Object.create(v.prototype,{constructor:r}),r.prototype._setupLabelFocus=function(e,t){function i(){a.emit(E.TRIGGER_INPUT_FOCUS,e)}var n,r,o=_(),a=this._bus;if(!o&&null!=t.id){for(n=Array.prototype.slice.call(document.querySelectorAll('label[for="'+t.id+'"]')),n=n.concat(y(t,"label")),r=0;r<n.length;r++)n[r].addEventListener("click",i,!1);this._destructor.registerFunctionForTeardown(function(){for(r=0;r<n.length;r++)n[r].removeEventListener("click",i,!1)})}},r.prototype.teardown=function(e){var t=this._client;this._destructor.teardown(function(i){b.sendEvent(t,"custom.hosted-fields.teardown-completed"),"function"==typeof e&&(e=w(e))(i)})},r.prototype.tokenize=function(e,t){t||(t=e,e={}),m(t,"tokenize"),this._bus.emit(E.TOKENIZATION_REQUEST,e,function(e){t.apply(null,e)})},r.prototype.addClass=function(e,t,i){var n;I.hasOwnProperty(e)?this._fields.hasOwnProperty(e)?this._bus.emit(E.ADD_CLASS,e,t):n=new l({type:u.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:u.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot add class to "'+e+'" field because it is not part of the current Hosted Fields options.'}):n=new l({type:u.HOSTED_FIELDS_FIELD_INVALID.type,code:u.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+e+'" is not a valid field. You must use a valid field option when adding a class.'}),"function"==typeof i&&(i=w(i))(n)},r.prototype.removeClass=function(e,t,i){var n;I.hasOwnProperty(e)?this._fields.hasOwnProperty(e)?this._bus.emit(E.REMOVE_CLASS,e,t):n=new l({type:u.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:u.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot remove class from "'+e+'" field because it is not part of the current Hosted Fields options.'}):n=new l({type:u.HOSTED_FIELDS_FIELD_INVALID.type,code:u.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+e+'" is not a valid field. You must use a valid field option when removing a class.'}),"function"==typeof i&&(i=w(i))(n)},r.prototype.setPlaceholder=function(e,t,i){var n;I.hasOwnProperty(e)?this._fields.hasOwnProperty(e)?this._bus.emit(E.SET_PLACEHOLDER,e,t):n=new l({type:u.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:u.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot set placeholder for "'+e+'" field because it is not part of the current Hosted Fields options.'}):n=new l({type:u.HOSTED_FIELDS_FIELD_INVALID.type,code:u.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+e+'" is not a valid field. You must use a valid field option when setting a placeholder.'}),"function"==typeof i&&(i=w(i))(n)},r.prototype.clear=function(e,t){var i;I.hasOwnProperty(e)?this._fields.hasOwnProperty(e)?this._bus.emit(E.CLEAR_FIELD,e):i=new l({type:u.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:u.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot clear "'+e+'" field because it is not part of the current Hosted Fields options.'}):i=new l({type:u.HOSTED_FIELDS_FIELD_INVALID.type,code:u.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+e+'" is not a valid field. You must use a valid field option when clearing a field.'}),"function"==typeof t&&(t=w(t))(i)},r.prototype.getState=function(){return this._state},t.exports=r},{"../../lib/analytics":15,"../../lib/braintree-error":17,"../../lib/bus":20,"../../lib/classlist":21,"../../lib/constants":22,"../../lib/convert-methods-to-error":23,"../../lib/deferred":25,"../../lib/destructor":26,"../../lib/errors":28,"../../lib/event-emitter":29,"../../lib/is-ios":30,"../../lib/methods":33,"../../lib/throw-if-no-callback":36,"../../lib/uuid":37,"../shared/constants":11,"../shared/errors":12,"../shared/find-parent-tags":13,"./compose-url":7,"./inject-frame":9,"credit-card-type":1,iframer:3}],9:[function(e,t,i){"use strict";t.exports=function(e,t){var i=document.createElement("div"),n=document.createDocumentFragment();return i.style.clear="both",n.appendChild(e),n.appendChild(i),t.appendChild(n),[e,i]}},{}],10:[function(e,t,i){"use strict";function n(e,t){var i;a(t,"create");try{i=new r(e)}catch(e){return t=o(t),void t(e)}i.on("ready",function(){t(null,i)})}var r=e("./external/hosted-fields"),o=e("../lib/deferred"),a=e("../lib/throw-if-no-callback"),s="3.7.0";t.exports={create:n,VERSION:s}},{"../lib/deferred":25,"../lib/throw-if-no-callback":36,"./external/hosted-fields":8}],11:[function(e,t,i){"use strict";var n=e("../../lib/enumerate"),r="3.7.0",o={VERSION:r,maxExpirationYearAge:19,externalEvents:{FOCUS:"focus",BLUR:"blur",EMPTY:"empty",NOT_EMPTY:"notEmpty",VALIDITY_CHANGE:"validityChange",CARD_TYPE_CHANGE:"cardTypeChange"},defaultMaxLengths:{number:19,postalCode:8,expirationDate:7,expirationMonth:2,expirationYear:4,cvv:3},externalClasses:{FOCUSED:"braintree-hosted-fields-focused",INVALID:"braintree-hosted-fields-invalid",VALID:"braintree-hosted-fields-valid"},defaultIFrameStyle:{border:"none",width:"100%",height:"100%",float:"left"},whitelistedStyles:["-moz-osx-font-smoothing","-moz-tap-highlight-color","-moz-transition","-webkit-font-smoothing","-webkit-tap-highlight-color","-webkit-transition","color","font","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-weight","letter-spacing","line-height","opacity","outline","text-shadow","transition"],whitelistedFields:{number:{name:"credit-card-number",label:"Credit Card Number"},cvv:{name:"cvv",label:"CVV"},expirationDate:{name:"expiration",label:"Expiration Date"},expirationMonth:{name:"expiration-month",label:"Expiration Month"},expirationYear:{name:"expiration-year",label:"Expiration Year"},postalCode:{name:"postal-code",label:"Postal Code"}}};o.events=n(["FRAME_READY","VALIDATE_STRICT","CONFIGURATION","TOKENIZATION_REQUEST","INPUT_EVENT","TRIGGER_INPUT_FOCUS","ADD_CLASS","REMOVE_CLASS","SET_PLACEHOLDER","CLEAR_FIELD"],"hosted-fields:"),
t.exports=o},{"../../lib/enumerate":27}],12:[function(e,t,i){"use strict";var n=e("../../lib/braintree-error");t.exports={HOSTED_FIELDS_INVALID_FIELD_KEY:{type:n.types.MERCHANT,code:"HOSTED_FIELDS_INVALID_FIELD_KEY"},HOSTED_FIELDS_INVALID_FIELD_SELECTOR:{type:n.types.MERCHANT,code:"HOSTED_FIELDS_INVALID_FIELD_SELECTOR",message:"Selector does not reference a valid DOM node."},HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME:{type:n.types.MERCHANT,code:"HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME",message:"Element already contains a Braintree iframe."},HOSTED_FIELDS_FIELD_INVALID:{type:n.types.MERCHANT,code:"HOSTED_FIELDS_FIELD_INVALID"},HOSTED_FIELDS_FIELD_NOT_PRESENT:{type:n.types.MERCHANT,code:"HOSTED_FIELDS_FIELD_NOT_PRESENT"},HOSTED_FIELDS_TOKENIZATION_NETWORK_ERROR:{type:n.types.NETWORK,code:"HOSTED_FIELDS_TOKENIZATION_NETWORK_ERROR",message:"A tokenization network error occurred."},HOSTED_FIELDS_FAILED_TOKENIZATION:{type:n.types.CUSTOMER,code:"HOSTED_FIELDS_FAILED_TOKENIZATION",message:"The supplied card data failed tokenization."},HOSTED_FIELDS_FIELDS_EMPTY:{type:n.types.CUSTOMER,code:"HOSTED_FIELDS_FIELDS_EMPTY",message:"All fields are empty. Cannot tokenize empty card fields."},HOSTED_FIELDS_FIELDS_INVALID:{type:n.types.CUSTOMER,code:"HOSTED_FIELDS_FIELDS_INVALID",message:"Some payment input fields are invalid. Cannot tokenize invalid card fields."}}},{"../../lib/braintree-error":17}],13:[function(e,t,i){"use strict";function n(e,t){for(var i=e.parentNode,n=[];null!=i;)null!=i.tagName&&i.tagName.toLowerCase()===t&&n.push(i),i=i.parentNode;return n}t.exports=n},{}],14:[function(e,t,i){"use strict";function n(e,t){var i,n=t?o(t):{},s=r(e.authorization).attrs,c=o(e.analyticsMetadata);n.braintreeLibraryVersion=a.BRAINTREE_LIBRARY_VERSION;for(i in n._meta)n._meta.hasOwnProperty(i)&&(c[i]=n._meta[i]);return n._meta=c,s.tokenizationKey?n.tokenizationKey=s.tokenizationKey:n.authorizationFingerprint=s.authorizationFingerprint,n}var r=e("./create-authorization-data"),o=e("./json-clone"),a=e("./constants");t.exports=n},{"./constants":22,"./create-authorization-data":24,"./json-clone":32}],15:[function(e,t,i){"use strict";function n(e){return Math.floor(e/1e3)}function r(e,t,i){var r=e.getConfiguration(),s=e._request,c=n(Date.now()),l=r.gatewayConfiguration.analytics.url,d={analytics:[{kind:o.ANALYTICS_PREFIX+t,timestamp:c}]};s({url:l,method:"post",data:a(r,d),timeout:o.ANALYTICS_REQUEST_TIMEOUT_MS},i)}var o=e("./constants"),a=e("./add-metadata");t.exports={sendEvent:r}},{"./add-metadata":14,"./constants":22}],16:[function(e,t,i){"use strict";function n(e,t){var i=0===e.length;i?(e(),t(null)):e(t)}var r=e("./once");t.exports=function(e,t){function i(e){return e?void c(e):(s-=1,void(0===s&&c(null)))}var o,a=e.length,s=a,c=r(t);if(0===a)return void c(null);for(o=0;a>o;o++)n(e[o],i)}},{"./once":34}],17:[function(e,t,i){"use strict";function n(e){if(!n.types.hasOwnProperty(e.type))throw new Error(e.type+" is not a valid type.");if(!e.code)throw new Error("Error code required.");if(!e.message)throw new Error("Error message required.");this.name="BraintreeError",this.code=e.code,this.message=e.message,this.type=e.type,this.details=e.details}var r=e("./enumerate");n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n.types=r(["CUSTOMER","MERCHANT","NETWORK","INTERNAL","UNKNOWN"]),t.exports=n},{"./enumerate":27}],18:[function(e,t,i){"use strict";function n(e,t){var i,n,o=document.createElement("a");return o.href=t,n="https:"===o.protocol?o.host.replace(/:443$/,""):"http:"===o.protocol?o.host.replace(/:80$/,""):o.host,i=o.protocol+"//"+n,i===e||(o.href=e,r(e))}var r=e("../is-whitelisted-domain");t.exports={checkOrigin:n}},{"../is-whitelisted-domain":31}],19:[function(e,t,i){"use strict";var n=e("../enumerate");t.exports=n(["CONFIGURATION_REQUEST"],"bus:")},{"../enumerate":27}],20:[function(e,t,i){"use strict";function n(e){if(e=e||{},this.channel=e.channel,!this.channel)throw new s({type:s.types.INTERNAL,code:"MISSING_CHANNEL_ID",message:"Channel ID must be specified."});this.merchantUrl=e.merchantUrl,this._isDestroyed=!1,this._isVerbose=!1,this._listeners=[],this._log("new bus on channel "+this.channel,[location.href])}var r=e("framebus"),o=e("./events"),a=e("./check-origin").checkOrigin,s=e("../braintree-error");n.prototype.on=function(e,t){var i,n,o=t,s=this;this._isDestroyed||(this.merchantUrl&&(o=function(){a(this.origin,s.merchantUrl)&&t.apply(this,arguments)}),i=this._namespaceEvent(e),n=Array.prototype.slice.call(arguments),n[0]=i,n[1]=o,this._log("on",n),r.on.apply(r,n),this._listeners.push({eventName:e,handler:o,originalHandler:t}))},n.prototype.emit=function(e){var t;this._isDestroyed||(t=Array.prototype.slice.call(arguments),t[0]=this._namespaceEvent(e),this._log("emit",t),r.emit.apply(r,t))},n.prototype._offDirect=function(e){var t=Array.prototype.slice.call(arguments);this._isDestroyed||(t[0]=this._namespaceEvent(e),this._log("off",t),r.off.apply(r,t))},n.prototype.off=function(e,t){var i,n,r=t;if(!this._isDestroyed){if(this.merchantUrl)for(i=0;i<this._listeners.length;i++)n=this._listeners[i],n.originalHandler===t&&(r=n.handler);this._offDirect(e,r)}},n.prototype._namespaceEvent=function(e){return["braintree",this.channel,e].join(":")},n.prototype.teardown=function(){var e,t;for(t=0;t<this._listeners.length;t++)e=this._listeners[t],this._offDirect(e.eventName,e.handler);this._listeners.length=0,this._isDestroyed=!0},n.prototype._log=function(e,t){this._isVerbose&&console.log(e,t)},n.events=o,t.exports=n},{"../braintree-error":17,"./check-origin":18,"./events":19,framebus:2}],21:[function(e,t,i){"use strict";function n(e){return e.className.trim().split(/\s+/)}function r(e){var t=Array.prototype.slice.call(arguments,1),i=n(e).filter(function(e){return-1===t.indexOf(e)}).concat(t).join(" ");e.className=i}function o(e){var t=Array.prototype.slice.call(arguments,1),i=n(e).filter(function(e){return-1===t.indexOf(e)}).join(" ");e.className=i}function a(e,t,i){i?r(e,t):o(e,t)}t.exports={add:r,remove:o,toggle:a}},{}],22:[function(e,t,i){"use strict";var n="3.7.0",r="web";t.exports={ANALYTICS_PREFIX:"web.",ANALYTICS_REQUEST_TIMEOUT_MS:2e3,INTEGRATION_TIMEOUT_MS:6e4,VERSION:n,INTEGRATION:"custom",SOURCE:"client",PLATFORM:r,BRAINTREE_LIBRARY_VERSION:"braintree/"+r+"/"+n}},{}],23:[function(e,t,i){"use strict";var n=e("./braintree-error"),r=e("../lib/errors");t.exports=function(e,t){t.forEach(function(t){e[t]=function(){throw new n({type:r.METHOD_CALLED_AFTER_TEARDOWN.type,code:r.METHOD_CALLED_AFTER_TEARDOWN.code,message:t+" cannot be called after teardown."})}})}},{"../lib/errors":28,"./braintree-error":17}],24:[function(e,t,i){"use strict";function n(e){return/^[a-zA-Z0-9]+_[a-zA-Z0-9]+_[a-zA-Z0-9_]+$/.test(e)}function r(e){var t=e.split("_"),i=t[0],n=t.slice(2).join("_");return{merchantId:n,environment:i}}function o(e){var t,i,o={attrs:{},configUrl:""};return n(e)?(i=r(e),o.attrs.tokenizationKey=e,o.configUrl=s[i.environment]+"/merchants/"+i.merchantId+"/client_api/v1/configuration"):(t=JSON.parse(a(e)),o.attrs.authorizationFingerprint=t.authorizationFingerprint,o.configUrl=t.configUrl),o}var a=e("../lib/polyfill").atob,s={production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"};t.exports=o},{"../lib/polyfill":35}],25:[function(e,t,i){"use strict";t.exports=function(e){return function(){var t=arguments;setTimeout(function(){e.apply(null,t)},1)}}},{}],26:[function(e,t,i){"use strict";function n(){this._teardownRegistry=[],this._isTearingDown=!1}var r=e("./batch-execute-functions");n.prototype.registerFunctionForTeardown=function(e){"function"==typeof e&&this._teardownRegistry.push(e)},n.prototype.teardown=function(e){return this._isTearingDown?void e(new Error("Destructor is already tearing down")):(this._isTearingDown=!0,void r(this._teardownRegistry,function(t){this._teardownRegistry=[],this._isTearingDown=!1,"function"==typeof e&&e(t)}.bind(this)))},t.exports=n},{"./batch-execute-functions":16}],27:[function(e,t,i){"use strict";function n(e,t){return t=null==t?"":t,e.reduce(function(e,i){return e[i]=t+i,e},{})}t.exports=n},{}],28:[function(e,t,i){"use strict";var n=e("./braintree-error");t.exports={CALLBACK_REQUIRED:{type:n.types.MERCHANT,code:"CALLBACK_REQUIRED"},INSTANTIATION_OPTION_REQUIRED:{type:n.types.MERCHANT,code:"INSTANTIATION_OPTION_REQUIRED"},INCOMPATIBLE_VERSIONS:{type:n.types.MERCHANT,code:"INCOMPATIBLE_VERSIONS"},METHOD_CALLED_AFTER_TEARDOWN:{type:n.types.MERCHANT,code:"METHOD_CALLED_AFTER_TEARDOWN"},BRAINTREE_API_ACCESS_RESTRICTED:{type:n.types.MERCHANT,code:"BRAINTREE_API_ACCESS_RESTRICTED",message:"Your access is restricted and cannot use this part of the Braintree API."}}},{"./braintree-error":17}],29:[function(e,t,i){"use strict";function n(){this._events={}}n.prototype.on=function(e,t){this._events[e]?this._events[e].push(t):this._events[e]=[t]},n.prototype._emit=function(e){var t,i,n=this._events[e];if(n)for(i=Array.prototype.slice.call(arguments,1),t=0;t<n.length;t++)n[t].apply(null,i)},t.exports=n},{}],30:[function(e,t,i){"use strict";t.exports=function(e){return e=e||navigator.userAgent,/(iPad|iPhone|iPod)/i.test(e)}},{}],31:[function(e,t,i){"use strict";function n(e){return e.split(".").slice(-2).join(".")}function r(e){var t;return e=e.toLowerCase(),!!/^https:/.test(e)&&(o=o||document.createElement("a"),o.href=e,t=n(o.hostname),a.hasOwnProperty(t))}var o,a={"paypal.com":1,"braintreepayments.com":1,"braintreegateway.com":1};t.exports=r},{}],32:[function(e,t,i){"use strict";t.exports=function(e){return JSON.parse(JSON.stringify(e))}},{}],33:[function(e,t,i){"use strict";t.exports=function(e){return Object.keys(e).filter(function(t){return"function"==typeof e[t]})}},{}],34:[function(e,t,i){"use strict";function n(e){var t=!1;return function(){t||(t=!0,e.apply(null,arguments))}}t.exports=n},{}],35:[function(e,t,i){(function(e){"use strict";function i(e){var t,i,n,r,o,a,s,c,l=new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$"),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",p="";if(!l.test(e))throw new Error("Non base64 encoded input passed to window.atob polyfill");c=0;do r=d.indexOf(e.charAt(c++)),o=d.indexOf(e.charAt(c++)),a=d.indexOf(e.charAt(c++)),s=d.indexOf(e.charAt(c++)),t=(63&r)<<2|o>>4&3,i=(15&o)<<4|a>>2&15,n=(3&a)<<6|63&s,p+=String.fromCharCode(t)+(i?String.fromCharCode(i):"")+(n?String.fromCharCode(n):"");while(c<e.length);return p}var n="function"==typeof e.atob?e.atob:i;t.exports={atob:n,_atob:i}}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],36:[function(e,t,i){"use strict";var n=e("./braintree-error"),r=e("../lib/errors");t.exports=function(e,t){if("function"!=typeof e)throw new n({type:r.CALLBACK_REQUIRED.type,code:r.CALLBACK_REQUIRED.code,message:t+" must include a callback function."})}},{"../lib/errors":28,"./braintree-error":17}],37:[function(e,t,i){"use strict";function n(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,i="x"===e?t:3&t|8;return i.toString(16)})}t.exports=n},{}]},{},[10])(10)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(t,i,n){(function(r){!function(t){if("object"==typeof n&&"undefined"!=typeof i)i.exports=t();else if("function"==typeof e&&e.amd)e([],t);else{var o;o="undefined"!=typeof window?window:"undefined"!=typeof r?r:"undefined"!=typeof self?self:this,(o.braintree||(o.braintree={})).paypal=t()}}(function(){var e;return function e(i,n,r){function o(s,c){if(!n[s]){if(!i[s]){var l="function"==typeof t&&t;if(!c&&l)return l(s,!0);if(a)return a(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var p=n[s]={exports:{}};i[s][0].call(p.exports,function(e){var t=i[s][1][e];return o(t?t:e)},p,p.exports,e,i,n,r)}return n[s].exports}for(var a="function"==typeof t&&t,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(t,i,n){(function(t){"use strict";!function(r,o){"object"==typeof n&&"undefined"!=typeof i?i.exports=o("undefined"==typeof t?r:t):"function"==typeof e&&e.amd?e([],function(){return o(r)}):r.framebus=o(r)}(this,function(e){function t(e){return null!=e&&(null!=e.Window&&(e.constructor===e.Window&&(b.push(e),!0)))}function i(e){var t,i={};for(t in g)g.hasOwnProperty(t)&&(i[t]=g[t]);return i._origin=e||"*",i}function n(e){var t,i,n=a(this);return!s(e)&&(!s(n)&&(i=Array.prototype.slice.call(arguments,1),t=c(e,i,n),t!==!1&&(y(v.top,t,n),!0)))}function r(e,t){var i=a(this);return!E(e,t,i)&&(I[i]=I[i]||{},I[i][e]=I[i][e]||[],I[i][e].push(t),!0)}function o(e,t){var i,n,r=a(this);if(E(e,t,r))return!1;if(n=I[r]&&I[r][e],!n)return!1;for(i=0;i<n.length;i++)if(n[i]===t)return n.splice(i,1),!0;return!1}function a(e){return e&&e._origin||"*"}function s(e){return"string"!=typeof e}function c(e,t,i){var n=!1,r={event:e,origin:i},o=t[t.length-1];"function"==typeof o&&(r.reply=_(o,i),t=t.slice(0,-1)),r.args=t;try{n=T+JSON.stringify(r)}catch(e){throw new Error("Could not stringify event: "+e.message)}return n}function l(e){var t,i,n,r;if(e.data.slice(0,T.length)!==T)return!1;try{t=JSON.parse(e.data.slice(T.length))}catch(e){return!1}return null!=t.reply&&(i=e.origin,n=e.source,r=t.reply,t.reply=function(e){var t=c(r,[e],i);return t!==!1&&void n.postMessage(t,i)},t.args.push(t.reply)),t}function d(t){v||(v=t||e,v.addEventListener?v.addEventListener("message",u,!1):v.attachEvent?v.attachEvent("onmessage",u):null===v.onmessage?v.onmessage=u:v=null)}function p(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,i="x"===e?t:3&t|8;return i.toString(16)})}function u(e){var t;s(e.data)||(t=l(e),t&&(h("*",t.event,t.args,e),h(e.origin,t.event,t.args,e),m(e.data,t.origin,e.source)))}function h(e,t,i,n){var r;if(I[e]&&I[e][t])for(r=0;r<I[e][t].length;r++)I[e][t][r].apply(n,i)}function f(e){return e.top===e&&(null!=e.opener&&(e.opener!==e&&e.opener.closed!==!0))}function y(e,t,i){var n;try{for(e.postMessage(t,i),f(e)&&y(e.opener.top,t,i),n=0;n<e.frames.length;n++)y(e.frames[n],t,i)}catch(e){}}function m(e,t,i){var n,r;for(n=b.length-1;n>=0;n--)r=b[n],r.closed===!0?b=b.slice(n,1):i!==r&&y(r.top,e,t)}function _(e,t){function i(r,o){e(r,o),g.target(t).unsubscribe(n,i)}var n=p();return g.target(t).subscribe(n,i),n}function E(e,t,i){return!!s(e)||("function"!=typeof t||!!s(i))}var v,g,b=[],I={},T="/*framebus*/";return d(),g={target:i,include:t,publish:n,pub:n,trigger:n,emit:n,subscribe:r,sub:r,on:r,unsubscribe:o,unsub:o,off:o}})}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,i){"use strict";var n=e("./lib/set-attributes"),r=e("./lib/default-attributes"),o=e("./lib/assign");t.exports=function(e){var t=document.createElement("iframe"),i=o({},r,e);return i.style&&"string"!=typeof i.style&&(o(t.style,i.style),delete i.style),n(t,i),t.getAttribute("id")||(t.id=t.name),t}},{"./lib/assign":3,"./lib/default-attributes":4,"./lib/set-attributes":5}],3:[function(e,t,i){"use strict";t.exports=function(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach(function(t){"object"==typeof t&&Object.keys(t).forEach(function(i){e[i]=t[i]})}),e}},{}],4:[function(e,t,i){t.exports={src:"about:blank",frameBorder:0,allowtransparency:!0,scrolling:"no"}},{}],5:[function(e,t,i){"use strict";t.exports=function(e,t){var i;for(var n in t)t.hasOwnProperty(n)&&(i=t[n],null==i?e.removeAttribute(n):e.setAttribute(n,i))}},{}],6:[function(e,t,i){"use strict";function n(e,t){var i,n=t?o(t):{},s=r(e.authorization).attrs,c=o(e.analyticsMetadata);n.braintreeLibraryVersion=a.BRAINTREE_LIBRARY_VERSION;for(i in n._meta)n._meta.hasOwnProperty(i)&&(c[i]=n._meta[i]);return n._meta=c,s.tokenizationKey?n.tokenizationKey=s.tokenizationKey:n.authorizationFingerprint=s.authorizationFingerprint,n}var r=e("./create-authorization-data"),o=e("./json-clone"),a=e("./constants");t.exports=n},{"./constants":13,"./create-authorization-data":15,"./json-clone":29}],7:[function(e,t,i){"use strict";function n(e){return Math.floor(e/1e3)}function r(e,t,i){var r=e.getConfiguration(),s=e._request,c=n(Date.now()),l=r.gatewayConfiguration.analytics.url,d={analytics:[{kind:o.ANALYTICS_PREFIX+t,timestamp:c}]};s({url:l,method:"post",data:a(r,d),timeout:o.ANALYTICS_REQUEST_TIMEOUT_MS},i)}var o=e("./constants"),a=e("./add-metadata");t.exports={sendEvent:r}},{"./add-metadata":6,"./constants":13}],8:[function(e,t,i){"use strict";function n(e){if(!n.types.hasOwnProperty(e.type))throw new Error(e.type+" is not a valid type.");if(!e.code)throw new Error("Error code required.");if(!e.message)throw new Error("Error message required.");this.name="BraintreeError",this.code=e.code,this.message=e.message,this.type=e.type,this.details=e.details}var r=e("./enumerate");n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n.types=r(["CUSTOMER","MERCHANT","NETWORK","INTERNAL","UNKNOWN"]),t.exports=n},{"./enumerate":17}],9:[function(e,t,i){(function(e){"use strict";function i(t){return t=t||e.navigator.userAgent,t.indexOf("Opera Mini")>-1}function n(t){return t=t||e.navigator.userAgent,s(t)&&t.indexOf("Firefox")>-1}function r(t){return t=t||e.navigator.userAgent,-1!==t.indexOf("MSIE")?parseInt(t.replace(/.*MSIE ([0-9]+)\..*/,"$1"),10):/Trident.*rv:11/.test(t)?11:null}function o(t){return t=t||e.location.protocol,"https:"===t}function a(t){return t=t||e.navigator.userAgent,/iPhone|iPod|iPad/.test(t)}function s(t){return t=t||e.navigator.userAgent,/Android/.test(t)}function c(t){return t=t||e.navigator.userAgent,!(d(t)||p(t)||i(t))}function l(e){return/\bGSA\b/.test(e)}function d(t){return t=t||e.navigator.userAgent,!!a(t)&&(!!l(t)||/.+AppleWebKit(?!.*Safari)/.test(t))}function p(t){var n=/Version\/[\d\.]+/;return t=t||e.navigator.userAgent,!!s(t)&&(n.test(t)&&!i(t))}t.exports={isOperaMini:i,isAndroidFirefox:n,getIEVersion:r,isHTTPS:o,isIos:a,isAndroid:s,supportsPopups:c}}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],10:[function(e,t,i){"use strict";function n(e,t){var i,n,o=document.createElement("a");return o.href=t,n="https:"===o.protocol?o.host.replace(/:443$/,""):"http:"===o.protocol?o.host.replace(/:80$/,""):o.host,i=o.protocol+"//"+n,i===e||(o.href=e,r(e))}var r=e("../is-whitelisted-domain");t.exports={checkOrigin:n}},{"../is-whitelisted-domain":28}],11:[function(e,t,i){"use strict";var n=e("../enumerate");t.exports=n(["CONFIGURATION_REQUEST"],"bus:")},{"../enumerate":17}],12:[function(e,t,i){"use strict";function n(e){if(e=e||{},this.channel=e.channel,!this.channel)throw new s({type:s.types.INTERNAL,code:"MISSING_CHANNEL_ID",message:"Channel ID must be specified."});this.merchantUrl=e.merchantUrl,this._isDestroyed=!1,this._isVerbose=!1,this._listeners=[],this._log("new bus on channel "+this.channel,[location.href])}var r=e("framebus"),o=e("./events"),a=e("./check-origin").checkOrigin,s=e("../braintree-error");n.prototype.on=function(e,t){var i,n,o=t,s=this;this._isDestroyed||(this.merchantUrl&&(o=function(){a(this.origin,s.merchantUrl)&&t.apply(this,arguments)}),i=this._namespaceEvent(e),n=Array.prototype.slice.call(arguments),n[0]=i,n[1]=o,this._log("on",n),r.on.apply(r,n),this._listeners.push({eventName:e,handler:o,originalHandler:t}))},n.prototype.emit=function(e){var t;this._isDestroyed||(t=Array.prototype.slice.call(arguments),t[0]=this._namespaceEvent(e),this._log("emit",t),r.emit.apply(r,t))},n.prototype._offDirect=function(e){var t=Array.prototype.slice.call(arguments);this._isDestroyed||(t[0]=this._namespaceEvent(e),this._log("off",t),r.off.apply(r,t))},n.prototype.off=function(e,t){var i,n,r=t;if(!this._isDestroyed){if(this.merchantUrl)for(i=0;i<this._listeners.length;i++)n=this._listeners[i],n.originalHandler===t&&(r=n.handler);this._offDirect(e,r)}},n.prototype._namespaceEvent=function(e){return["braintree",this.channel,e].join(":")},n.prototype.teardown=function(){var e,t;for(t=0;t<this._listeners.length;t++)e=this._listeners[t],this._offDirect(e.eventName,e.handler);this._listeners.length=0,this._isDestroyed=!0},n.prototype._log=function(e,t){this._isVerbose&&console.log(e,t)},n.events=o,t.exports=n},{"../braintree-error":8,"./check-origin":10,"./events":11,framebus:1}],13:[function(e,t,i){"use strict";var n="3.7.0",r="web";t.exports={ANALYTICS_PREFIX:"web.",ANALYTICS_REQUEST_TIMEOUT_MS:2e3,INTEGRATION_TIMEOUT_MS:6e4,VERSION:n,INTEGRATION:"custom",SOURCE:"client",PLATFORM:r,BRAINTREE_LIBRARY_VERSION:"braintree/"+r+"/"+n}},{}],14:[function(e,t,i){"use strict";var n=e("./braintree-error"),r=e("../lib/errors");t.exports=function(e,t){t.forEach(function(t){e[t]=function(){throw new n({type:r.METHOD_CALLED_AFTER_TEARDOWN.type,code:r.METHOD_CALLED_AFTER_TEARDOWN.code,message:t+" cannot be called after teardown."})}})}},{"../lib/errors":18,"./braintree-error":8}],15:[function(e,t,i){"use strict";function n(e){return/^[a-zA-Z0-9]+_[a-zA-Z0-9]+_[a-zA-Z0-9_]+$/.test(e)}function r(e){var t=e.split("_"),i=t[0],n=t.slice(2).join("_");return{merchantId:n,environment:i}}function o(e){var t,i,o={attrs:{},configUrl:""};return n(e)?(i=r(e),o.attrs.tokenizationKey=e,o.configUrl=s[i.environment]+"/merchants/"+i.merchantId+"/client_api/v1/configuration"):(t=JSON.parse(a(e)),o.attrs.authorizationFingerprint=t.authorizationFingerprint,o.configUrl=t.configUrl),o}var a=e("../lib/polyfill").atob,s={production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"};t.exports=o},{"../lib/polyfill":32}],16:[function(e,t,i){"use strict";t.exports=function(e){return function(){var t=arguments;setTimeout(function(){e.apply(null,t)},1)}}},{}],17:[function(e,t,i){"use strict";function n(e,t){return t=null==t?"":t,e.reduce(function(e,i){return e[i]=t+i,e},{})}t.exports=n},{}],18:[function(e,t,i){"use strict";var n=e("./braintree-error");t.exports={CALLBACK_REQUIRED:{type:n.types.MERCHANT,code:"CALLBACK_REQUIRED"},INSTANTIATION_OPTION_REQUIRED:{type:n.types.MERCHANT,code:"INSTANTIATION_OPTION_REQUIRED"},INCOMPATIBLE_VERSIONS:{type:n.types.MERCHANT,code:"INCOMPATIBLE_VERSIONS"},METHOD_CALLED_AFTER_TEARDOWN:{type:n.types.MERCHANT,code:"METHOD_CALLED_AFTER_TEARDOWN"},BRAINTREE_API_ACCESS_RESTRICTED:{type:n.types.MERCHANT,code:"BRAINTREE_API_ACCESS_RESTRICTED",message:"Your access is restricted and cannot use this part of the Braintree API."}}},{"./braintree-error":8}],19:[function(e,t,i){"use strict";function n(){}function r(e){if(!e)throw new Error("Valid configuration is required");if(f.forEach(function(t){if(!e.hasOwnProperty(t))throw new Error("A valid frame "+t+" must be provided")}),!/^[\w_]+$/.test(e.name))throw new Error("A valid frame name must be provided")}function o(e){r(e),this._serviceId=p().replace(/-/g,""),this._options={name:e.name+"_"+this._serviceId,dispatchFrameUrl:e.dispatchFrameUrl,openFrameUrl:e.openFrameUrl},this._state=e.state,this._bus=new s({channel:this._serviceId}),this._setBusEvents()}var a=e("./popup"),s=e("../../bus"),c=e("../shared/events"),l=e("../shared/errors"),d=e("../shared/constants"),p=e("../../uuid"),u=e("iframer"),h=e("../../braintree-error"),f=["name","dispatchFrameUrl","openFrameUrl"];o.prototype.initialize=function(e){var t=function(){e(),this._bus.off(c.DISPATCH_FRAME_READY,t)}.bind(this);this._bus.on(c.DISPATCH_FRAME_READY,t),this._writeDispatchFrame()},o.prototype._writeDispatchFrame=function(){var e=d.DISPATCH_FRAME_NAME+"_"+this._serviceId,t=this._options.dispatchFrameUrl;this._dispatchFrame=u({name:e,src:t,class:d.DISPATCH_FRAME_CLASS,height:0,width:0,style:{position:"absolute",left:"-9999px"}}),document.body.appendChild(this._dispatchFrame)},o.prototype._setBusEvents=function(){this._bus.on(c.DISPATCH_FRAME_REPORT,function(e,t){this._onCompleteCallback&&this._onCompleteCallback.call(null,e.err,e.payload),this._onCompleteCallback=null,t&&t()}.bind(this)),this._bus.on(s.events.CONFIGURATION_REQUEST,function(e){e(this._state)}.bind(this))},o.prototype.open=function(e){return this._onCompleteCallback=e,this._frame=a.open(this._options),this.isFrameClosed()?(this._cleanupFrame(),void(e&&e(new h(l.FRAME_SERVICE_FRAME_OPEN_FAILED)))):void this._pollForPopupClose()},o.prototype.redirect=function(e){this._frame&&!this.isFrameClosed()&&(this._frame.location.href=e)},o.prototype.close=function(){this.isFrameClosed()||this._frame.close()},o.prototype.focus=function(){this.isFrameClosed()||this._frame.focus()},o.prototype.createHandler=function(e){return e=e||{},{close:function(){e.beforeClose&&e.beforeClose(),this.close()}.bind(this),focus:function(){e.beforeFocus&&e.beforeFocus(),this.focus()}.bind(this)}},o.prototype.createNoopHandler=function(){return{close:n,focus:n}},o.prototype.teardown=function(){this.close(),this._dispatchFrame.parentNode.removeChild(this._dispatchFrame),this._dispatchFrame=null,this._cleanupFrame()},o.prototype.isFrameClosed=function(){return null==this._frame||this._frame.closed},o.prototype._cleanupFrame=function(){this._frame=null,clearInterval(this._popupInterval),this._popupInterval=null},o.prototype._pollForPopupClose=function(){return this._popupInterval=setInterval(function(){this.isFrameClosed()&&(this._cleanupFrame(),this._onCompleteCallback&&this._onCompleteCallback(new h(l.FRAME_SERVICE_FRAME_CLOSED)))}.bind(this),d.POPUP_POLL_INTERVAL),this._popupInterval},t.exports=o},{"../../braintree-error":8,"../../bus":12,"../../uuid":35,"../shared/constants":25,"../shared/errors":26,"../shared/events":27,"./popup":22,iframer:2}],20:[function(e,t,i){"use strict";var n=e("./frame-service");t.exports={create:function(e,t){var i=new n(e);i.initialize(function(){t(i)})}}},{"./frame-service":19}],21:[function(e,t,i){"use strict";var n=e("../../shared/constants"),r=e("./position");t.exports=function(){return[n.POPUP_BASE_OPTIONS,"top="+r.top(),"left="+r.left()].join(",")}},{"../../shared/constants":25,"./position":24}],22:[function(e,t,i){"use strict";t.exports={open:e("./open")}},{"./open":23}],23:[function(e,t,i){(function(i){"use strict";var n=e("./compose-options");t.exports=function(e){return i.open(e.openFrameUrl,e.name,n())}}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./compose-options":21}],24:[function(e,t,i){(function(i){"use strict";function n(){var e=i.outerHeight||document.documentElement.clientHeight,t=null==i.screenY?i.screenTop:i.screenY;return o(e,a.POPUP_HEIGHT,t)}function r(){var e=i.outerWidth||document.documentElement.clientWidth,t=null==i.screenX?i.screenLeft:i.screenX;return o(e,a.POPUP_WIDTH,t)}function o(e,t,i){return(e-t)/2+i}var a=e("../../shared/constants");t.exports={top:n,left:r,center:o}}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../shared/constants":25}],25:[function(e,t,i){"use strict";var n=535,r=450;t.exports={DISPATCH_FRAME_NAME:"dispatch",DISPATCH_FRAME_CLASS:"braintree-dispatch-frame",POPUP_BASE_OPTIONS:"resizable,scrollbars,height="+n+",width="+r,POPUP_WIDTH:r,POPUP_HEIGHT:n,POPUP_POLL_INTERVAL:100,POPUP_CLOSE_TIMEOUT:100}},{}],26:[function(e,t,i){"use strict";var n=e("../../braintree-error");t.exports={FRAME_SERVICE_FRAME_CLOSED:{type:n.types.INTERNAL,code:"FRAME_SERVICE_FRAME_CLOSED",message:"Frame closed before tokenization could occur."},FRAME_SERVICE_FRAME_OPEN_FAILED:{type:n.types.INTERNAL,code:"FRAME_SERVICE_FRAME_OPEN_FAILED",message:"Frame failed to open."}}},{"../../braintree-error":8}],27:[function(e,t,i){"use strict";var n=e("../../enumerate");t.exports=n(["DISPATCH_FRAME_READY","DISPATCH_FRAME_REPORT"],"frameService:")},{"../../enumerate":17}],28:[function(e,t,i){"use strict";function n(e){return e.split(".").slice(-2).join(".")}function r(e){var t;return e=e.toLowerCase(),!!/^https:/.test(e)&&(o=o||document.createElement("a"),o.href=e,t=n(o.hostname),a.hasOwnProperty(t))}var o,a={"paypal.com":1,"braintreepayments.com":1,"braintreegateway.com":1};t.exports=r},{}],29:[function(e,t,i){"use strict";t.exports=function(e){return JSON.parse(JSON.stringify(e))}},{}],30:[function(e,t,i){"use strict";t.exports=function(e){return Object.keys(e).filter(function(t){return"function"==typeof e[t]})}},{}],31:[function(e,t,i){"use strict";function n(e){var t=!1;return function(){t||(t=!0,e.apply(null,arguments))}}t.exports=n},{}],32:[function(e,t,i){(function(e){"use strict";function i(e){var t,i,n,r,o,a,s,c,l=new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$"),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",p="";if(!l.test(e))throw new Error("Non base64 encoded input passed to window.atob polyfill");c=0;do r=d.indexOf(e.charAt(c++)),o=d.indexOf(e.charAt(c++)),a=d.indexOf(e.charAt(c++)),s=d.indexOf(e.charAt(c++)),t=(63&r)<<2|o>>4&3,i=(15&o)<<4|a>>2&15,n=(3&a)<<6|63&s,p+=String.fromCharCode(t)+(i?String.fromCharCode(i):"")+(n?String.fromCharCode(n):"");while(c<e.length);return p}var n="function"==typeof e.atob?e.atob:i;t.exports={atob:n,_atob:i}}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],33:[function(e,t,i){(function(e){"use strict";function i(e){var t;for(t in e)if(e.hasOwnProperty(t))return!0;return!1}function n(e){return e&&"object"==typeof e&&"number"==typeof e.length&&"[object Array]"===Object.prototype.toString.call(e)||!1}function r(t){var i,n;return t=t||e.location.href,/\?/.test(t)?(i=t.replace(/#.*$/,"").replace(/^.*\?/,"").split("&"),n=i.reduce(function(e,t){var i=t.split("="),n=decodeURIComponent(i[0]),r=decodeURIComponent(i[1]);return e[n]=r,e},{})):{}}function o(e,t){var i,r,a,s=[];for(a in e)e.hasOwnProperty(a)&&(r=e[a],i=t?n(e)?t+"[]":t+"["+a+"]":a,"object"==typeof r?s.push(o(r,i)):s.push(encodeURIComponent(i)+"="+encodeURIComponent(r)));return s.join("&")}function a(e,t){return e=e||"",null!=t&&"object"==typeof t&&i(t)&&(e+=-1===e.indexOf("?")?"?":"",e+=-1!==e.indexOf("=")?"&":"",e+=o(t)),e}t.exports={parse:r,stringify:o,queryify:a}}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],34:[function(e,t,i){"use strict";var n=e("./braintree-error"),r=e("../lib/errors");t.exports=function(e,t){if("function"!=typeof e)throw new n({type:r.CALLBACK_REQUIRED.type,code:r.CALLBACK_REQUIRED.code,message:t+" must include a callback function."})}},{"../lib/errors":18,"./braintree-error":8}],35:[function(e,t,i){"use strict";function n(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,i="x"===e?t:3&t|8;return i.toString(16)})}t.exports=n},{}],36:[function(e,t,i){"use strict";function n(e){this._client=e.client,this._assetsUrl=e.client.getConfiguration().gatewayConfiguration.paypal.assetsUrl+"/web/"+s,this._loadingFrameUrl=this._assetsUrl+"/html/paypal-landing-frame.min.html",this._authorizationInProgress=!1}var r=e("../../lib/frame-service/external"),o=e("../../lib/braintree-error"),a=e("../../lib/once"),s="3.7.0",c=e("../shared/constants"),l=e("../../lib/constants").INTEGRATION_TIMEOUT_MS,d=e("../../lib/analytics"),p=e("../../lib/throw-if-no-callback"),u=e("../../lib/methods"),h=e("../../lib/deferred"),f=e("../shared/errors"),y=e("../../lib/convert-methods-to-error"),m=e("../../lib/querystring");n.prototype._initialize=function(e){var t=this._client,i=setTimeout(function(){d.sendEvent(t,"paypal.load.timed-out")},l);r.create({name:c.LANDING_FRAME_NAME,dispatchFrameUrl:this._assetsUrl+"/html/dispatch-frame.min.html",openFrameUrl:this._loadingFrameUrl},function(n){this._frameService=n,clearTimeout(i),d.sendEvent(t,"paypal.load.succeeded"),e()}.bind(this))},n.prototype.tokenize=function(e,t){var i=this._client;return p(t,"tokenize"),t=a(h(t)),e&&c.FLOW_ENDPOINTS.hasOwnProperty(e.flow)?(this._authorizationInProgress?(d.sendEvent(i,"paypal.tokenization.error.already-opened"),t(new o(f.PAYPAL_TOKENIZATION_REQUEST_ACTIVE))):(this._authorizationInProgress=!0,
d.sendEvent(i,"paypal.tokenization.opened"),this._navigateFrameToAuth(e,t),this._frameService.open(this._createFrameServiceCallback(e,t))),this._frameService.createHandler({beforeClose:function(){d.sendEvent(i,"paypal.tokenization.closed.by-merchant")}})):(t(new o(f.PAYPAL_FLOW_OPTION_REQUIRED)),this._frameService.createNoopHandler())},n.prototype._createFrameServiceCallback=function(e,t){var i=this._client;return function(n,r){this._authorizationInProgress=!1,n?"FRAME_SERVICE_FRAME_CLOSED"===n.code?(d.sendEvent(i,"paypal.tokenization.closed.by-user"),t(new o(f.PAYPAL_POPUP_CLOSED))):"FRAME_SERVICE_FRAME_OPEN_FAILED"===n.code&&t(new o(f.PAYPAL_POPUP_OPEN_FAILED)):this._tokenizePayPal(e,r,t)}.bind(this)},n.prototype._tokenizePayPal=function(e,t,i){var n=this._client;this._frameService.redirect(this._loadingFrameUrl),n.request({endpoint:"payment_methods/paypal_accounts",method:"post",data:this._formatTokenizeData(e,t)},function(e,t){e?(d.sendEvent(n,"paypal.tokenization.failed"),i(e instanceof o?e:new o({type:f.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.type,code:f.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.code,message:f.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.message,details:{originalError:e}}))):(d.sendEvent(n,"paypal.tokenization.success"),i(null,this._formatTokenizePayload(t))),this._frameService.close()}.bind(this))},n.prototype._formatTokenizePayload=function(e){var t,i={};return e.paypalAccounts&&(i=e.paypalAccounts[0]),t={nonce:i.nonce,details:{},type:i.type},i.details&&i.details.payerInfo&&(t.details=i.details.payerInfo),i.details&&i.details.creditFinancingOffered&&(t.creditFinancingOffered=i.details.creditFinancingOffered),t},n.prototype._formatTokenizeData=function(e,t){var i=this._client.getConfiguration(),n=i.gatewayConfiguration,r="TOKENIZATION_KEY"===i.authorizationType,o={paypalAccount:{correlationId:this._frameService._serviceId,options:{validate:"vault"===e.flow&&!r}}};return t.ba_token?o.paypalAccount.billingAgreementToken=t.ba_token:(o.paypalAccount.paymentToken=t.paymentId,o.paypalAccount.payerId=t.PayerID,o.paypalAccount.unilateral=n.paypal.unvettedMerchant,e.hasOwnProperty("intent")&&(o.paypalAccount.intent=e.intent)),o},n.prototype._navigateFrameToAuth=function(e,t){var i=this._client,n="paypal_hermes/"+c.FLOW_ENDPOINTS[e.flow];i.request({endpoint:n,method:"post",data:this._formatPaymentResourceData(e)},function(i,n,r){var a;i?(t(422===r?new o({type:f.PAYPAL_INVALID_PAYMENT_OPTION.type,code:f.PAYPAL_INVALID_PAYMENT_OPTION.code,message:f.PAYPAL_INVALID_PAYMENT_OPTION.message,details:{originalError:i}}):i instanceof o?i:new o({type:f.PAYPAL_FLOW_FAILED.type,code:f.PAYPAL_FLOW_FAILED.code,message:f.PAYPAL_FLOW_FAILED.message,details:{originalError:i}})),this._frameService.close()):(a="checkout"===e.flow?n.paymentResource.redirectUrl:n.agreementSetup.approvalUrl,"commit"===e.useraction&&(a=m.queryify(a,{useraction:"commit"})),this._frameService.redirect(a))}.bind(this))},n.prototype._formatPaymentResourceData=function(e){var t,i=this._client.getConfiguration().gatewayConfiguration,n=this._frameService._serviceId,r={returnUrl:i.paypal.assetsUrl+"/web/"+s+"/html/paypal-redirect-frame.min.html?channel="+n,cancelUrl:i.paypal.assetsUrl+"/web/"+s+"/html/paypal-cancel-frame.min.html?channel="+n,correlationId:n,experienceProfile:{brandName:e.displayName||i.paypal.displayName,localeCode:e.locale,noShipping:(!e.enableShippingAddress).toString(),addressOverride:e.shippingAddressEditable===!1}};if("checkout"===e.flow){r.amount=e.amount,r.currencyIsoCode=e.currency,r.offerPaypalCredit=e.offerCredit===!0,e.hasOwnProperty("intent")&&(r.intent=e.intent);for(t in e.shippingAddressOverride)e.shippingAddressOverride.hasOwnProperty(t)&&(r[t]=e.shippingAddressOverride[t])}else r.shippingAddress=e.shippingAddressOverride,e.billingAgreementDescription&&(r.description=e.billingAgreementDescription);return r},n.prototype.teardown=function(e){this._frameService.teardown(),y(this,u(n.prototype)),d.sendEvent(this._client,"paypal.teardown-completed"),"function"==typeof e&&(e=h(e))()},t.exports=n},{"../../lib/analytics":7,"../../lib/braintree-error":8,"../../lib/constants":13,"../../lib/convert-methods-to-error":14,"../../lib/deferred":16,"../../lib/frame-service/external":20,"../../lib/methods":30,"../../lib/once":31,"../../lib/querystring":33,"../../lib/throw-if-no-callback":34,"../shared/constants":38,"../shared/errors":39}],37:[function(e,t,i){"use strict";function n(e,t){var i,n,h;return l(t,"create"),t=s(t),null==e.client?void t(new o({type:p.INSTANTIATION_OPTION_REQUIRED.type,code:p.INSTANTIATION_OPTION_REQUIRED.code,message:"options.client is required when instantiating PayPal."})):(i=e.client.getConfiguration(),h=i.analyticsMetadata.sdkVersion,h!==u?void t(new o({type:p.INCOMPATIBLE_VERSIONS.type,code:p.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+h+") and PayPal (version "+u+") components must be from the same SDK version."})):i.gatewayConfiguration.paypalEnabled!==!0?void t(new o(c.PAYPAL_NOT_ENABLED)):a.supportsPopups()?(r.sendEvent(e.client,"paypal.initialized"),n=new d(e),void n._initialize(function(){t(null,n)})):void t(new o(c.PAYPAL_BROWSER_NOT_SUPPORTED)))}var r=e("../lib/analytics"),o=e("../lib/braintree-error"),a=e("../lib/browser-detection"),s=e("../lib/deferred"),c=e("./shared/errors"),l=e("../lib/throw-if-no-callback"),d=e("./external/paypal"),p=e("../lib/errors"),u="3.7.0";t.exports={create:n,VERSION:u}},{"../lib/analytics":7,"../lib/braintree-error":8,"../lib/browser-detection":9,"../lib/deferred":16,"../lib/errors":18,"../lib/throw-if-no-callback":34,"./external/paypal":36,"./shared/errors":39}],38:[function(e,t,i){"use strict";var n=535,r=450;t.exports={AUTH_INIT_ERROR_MESSAGE:"Could not initialize PayPal flow.",LANDING_FRAME_NAME:"braintreepaypallanding",POPUP_BASE_OPTIONS:"resizable,scrollbars,height="+n+",width="+r,POPUP_WIDTH:r,POPUP_HEIGHT:n,POPUP_POLL_INTERVAL:100,FLOW_ENDPOINTS:{checkout:"create_payment_resource",vault:"setup_billing_agreement"}}},{}],39:[function(e,t,i){"use strict";var n=e("../../lib/braintree-error");t.exports={PAYPAL_NOT_ENABLED:{type:n.types.MERCHANT,code:"PAYPAL_NOT_ENABLED",message:"PayPal is not enabled for this merchant."},PAYPAL_TOKENIZATION_REQUEST_ACTIVE:{type:n.types.MERCHANT,code:"PAYPAL_TOKENIZATION_REQUEST_ACTIVE",message:"Another tokenization request is active."},PAYPAL_ACCOUNT_TOKENIZATION_FAILED:{type:n.types.NETWORK,code:"PAYPAL_ACCOUNT_TOKENIZATION_FAILED",message:"Could not tokenize user's PayPal account."},PAYPAL_FLOW_FAILED:{type:n.types.NETWORK,code:"PAYPAL_FLOW_FAILED",message:"Could not initialize PayPal flow."},PAYPAL_FLOW_OPTION_REQUIRED:{type:n.types.MERCHANT,code:"PAYPAL_FLOW_OPTION_REQUIRED",message:"PayPal flow property is invalid or missing."},PAYPAL_BROWSER_NOT_SUPPORTED:{type:n.types.CUSTOMER,code:"PAYPAL_BROWSER_NOT_SUPPORTED",message:"Browser is not supported."},PAYPAL_POPUP_OPEN_FAILED:{type:n.types.MERCHANT,code:"PAYPAL_POPUP_OPEN_FAILED",message:"PayPal popup failed to open, make sure to tokenize in response to a user action."},PAYPAL_POPUP_CLOSED:{type:n.types.CUSTOMER,code:"PAYPAL_POPUP_CLOSED",message:"Customer closed PayPal popup before authorizing."},PAYPAL_INVALID_PAYMENT_OPTION:{type:n.types.MERCHANT,code:"PAYPAL_INVALID_PAYMENT_OPTION",message:"PayPal payment options are invalid."}}},{"../../lib/braintree-error":8}]},{},[37])(37)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(e,t,i){"use strict";t.exports={paymentOptionIDs:{card:"card",paypal:"paypal"},paymentMethodTypes:{card:"CreditCard",paypal:"PayPalAccount"},analyticsKinds:{CreditCard:"card",PayPalAccount:"paypal"},paymentMethodCardTypes:{Visa:"visa",MasterCard:"master-card","American Express":"american-express","Diners Club":"diners-club",Discover:"discover",JCB:"jcb",UnionPay:"unionpay",Maestro:"maestro"},configurationCardTypes:{visa:"Visa","master-card":"MasterCard","american-express":"American Express","diners-club":"Discover",discover:"Discover",jcb:"JCB",unionpay:"UnionPay",maestro:"Maestro"},errors:{NO_PAYMENT_METHOD_ERROR:"No payment method is available."},ANALYTICS_REQUEST_TIMEOUT_MS:2e3,ANALYTICS_PREFIX:"web.dropin.",INTEGRATION:"dropin2",STYLESHEET_ID:"braintree-dropin-stylesheet"}},{}],5:[function(e,t,i){"use strict";function n(e){this._paymentMethods=e.paymentMethods,this.componentID=e.componentID,this.merchantConfiguration=e.merchantConfiguration,this.isGuestCheckout=s(e.client),this.dependenciesInitializing=0,this.supportedPaymentOptions=r(e),o.call(this)}function r(e){var t=[a.card],i=e.client.getConfiguration().gatewayConfiguration.paypalEnabled,n=Boolean(e.merchantConfiguration.paypal);return i&&n&&t.push(a.paypal),t}var o=e("./lib/event-emitter"),a=e("./constants").paymentOptionIDs,s=e("./lib/is-guest-checkout");n.prototype=Object.create(o.prototype,{constructor:n}),n.prototype.addPaymentMethod=function(e){this._paymentMethods.push(e),this._emit("addPaymentMethod",e),this.changeActivePaymentMethod(e)},n.prototype.changeActivePaymentMethod=function(e){this._activePaymentMethod=e,this._emit("changeActivePaymentMethod",e)},n.prototype.changeActivePaymentView=function(e){this._activePaymentView=e,this._emit("changeActivePaymentView",e)},n.prototype.getPaymentMethods=function(){return this._paymentMethods},n.prototype.getActivePaymentMethod=function(){return this._activePaymentMethod},n.prototype.getActivePaymentView=function(){return this._activePaymentView},n.prototype.asyncDependencyStarting=function(){this.dependenciesInitializing++},n.prototype.asyncDependencyReady=function(){this.dependenciesInitializing--,0===this.dependenciesInitializing&&(this._emit("loadEnd"),this._emit("asyncDependenciesReady"))},n.prototype.beginLoading=function(){this._emit("loadBegin")},n.prototype.endLoading=function(){this._emit("loadEnd")},n.prototype.reportError=function(e){this._emit("errorOccurred",e)},n.prototype.clearError=function(){this._emit("errorCleared")},t.exports=n},{"./constants":4,"./lib/event-emitter":17,"./lib/is-guest-checkout":18}],6:[function(e,t,i){"use strict";function n(e){this._client=e.client,this._componentID=y(),this._dropinWrapper=document.createElement("div"),this._dropinWrapper.id="braintree--dropin__"+this._componentID,this._dropinWrapper.setAttribute("data-braintree-id","wrapper"),this._dropinWrapper.style.display="none",this._merchantConfiguration=e.merchantConfiguration,d.call(this)}function r(e){var t={nonce:e.nonce,details:e.details,type:e.type};return e.type===c.paymentMethodTypes.card&&(t.description=e.description),t}var o=e("./lib/assign").assign,a=e("./lib/analytics"),s=e("./views/main-view"),c=e("./constants"),l=e("./dropin-model"),d=e("./lib/event-emitter"),p=e("./lib/is-guest-checkout"),u=e("./html/main.html"),h=e("./translations"),f=e("./html/svgs.html"),y=e("./lib/uuid"),m="1.0.0-beta.4";n.prototype=Object.create(d.prototype,{constructor:n}),n.prototype._initialize=function(e){var t,i,n,r,c=this;return this._injectStylesheet(),this._merchantConfiguration.selector?(t=document.querySelector(this._merchantConfiguration.selector))?t.innerHTML.trim()?(a.sendEvent(this.client,"configuration-error"),void e(new Error("options.selector must reference an empty DOM node."))):(i=o({},h.en),this._merchantConfiguration.locale&&(n=h[this._merchantConfiguration.locale]||h[this._merchantConfiguration.locale.split("_")[0]],i=o(i,n)),r=Object.keys(i).reduce(function(e,t){var n=i[t];return e.replace(RegExp("{{"+t+"}}","g"),n)},u),this._dropinWrapper.innerHTML=f+r,t.appendChild(this._dropinWrapper),void this._getVaultedPaymentMethods(function(t){this._model=new l({client:this._client,componentID:this._componentID,merchantConfiguration:this._merchantConfiguration,paymentMethods:t}),this._model.on("asyncDependenciesReady",function(){a.sendEvent(this._client,"appeared"),e(null,c)}.bind(this)),this._mainView=new s({client:this._client,element:this._dropinWrapper,model:this._model,strings:i})}.bind(this))):(a.sendEvent(this.client,"configuration-error"),void e(new Error("options.selector must reference a valid DOM node."))):(a.sendEvent(this.client,"configuration-error"),void e(new Error("options.selector is required.")))},n.prototype.requestPaymentMethod=function(e){this._mainView.requestPaymentMethod(e)},n.prototype._removeStylesheet=function(){var e=document.getElementById(c.STYLESHEET_ID);e&&e.parentNode.removeChild(e)},n.prototype._injectStylesheet=function(){var e,t,i,n;document.getElementById(c.STYLESHEET_ID)||(n=this._client.getConfiguration().gatewayConfiguration.assetsUrl,t=n+"/web/dropin/"+m+"/css/dropin.min.css",e=document.createElement("link"),i=document.head,e.setAttribute("rel","stylesheet"),e.setAttribute("type","text/css"),e.setAttribute("href",t),i.firstChild?i.insertBefore(e,i.firstChild):i.appendChild(e))},n.prototype._getVaultedPaymentMethods=function(e){p(this._client)?e([]):this._client.request({endpoint:"payment_methods",method:"get",data:{defaultFirst:1}},function(t,i){var n;n=t?[]:i.paymentMethods.map(r),e(n)})},n.prototype.teardown=function(e){this._removeStylesheet(),this._mainView.teardown(function(t){this._dropinWrapper.parentNode.removeChild(this._dropinWrapper),e(t)}.bind(this))},t.exports=n},{"./constants":4,"./dropin-model":5,"./html/main.html":8,"./html/svgs.html":11,"./lib/analytics":13,"./lib/assign":14,"./lib/event-emitter":17,"./lib/is-guest-checkout":18,"./lib/uuid":21,"./translations":25,"./views/main-view":27}],7:[function(e,t,i){t.exports='<div data-braintree-id=visa-card-icon class=braintree-sheet__card-icon><svg height=24 width=40><use xlink:href=#icon-visa></use></svg></div><div data-braintree-id=master-card-card-icon class=braintree-sheet__card-icon><svg height=24 width=40><use xlink:href=#icon-master-card></use></svg></div><div data-braintree-id=unionpay-card-icon class="braintree-sheet__card-icon braintree-hidden"><svg height=24 width=40><use xlink:href=#icon-unionpay></use></svg></div><div data-braintree-id=american-express-card-icon class=braintree-sheet__card-icon><svg height=24 width=40><use xlink:href=#icon-american-express></use></svg></div><div data-braintree-id=jcb-card-icon class=braintree-sheet__card-icon><svg height=24 width=40><use xlink:href=#icon-jcb></use></svg></div><div data-braintree-id=diners-club-card-icon class=braintree-sheet__card-icon><svg height=24 width=40><use xlink:href=#icon-diners-club></use></svg></div><div data-braintree-id=discover-card-icon class=braintree-sheet__card-icon><svg height=24 width=40><use xlink:href=#icon-discover></use></svg></div><div data-braintree-id=maestro-card-icon class=braintree-sheet__card-icon><svg height=24 width=40><use xlink:href=#icon-maestro></use></svg></div>'},{}],8:[function(e,t,i){t.exports='<div data-braintree-id=loading-container class=braintree-loader__container><div data-braintree-id=loading-indicator class=braintree-loader__indicator><svg width=14 height=16 class=braintree-loader__lock><use xlink:href=#iconLockLoader></use></svg></div></div><div class="braintree-dropin braintree-hidden"><div data-braintree-id=methods class=braintree-methods><div data-braintree-id=methods-label class=braintree-heading>{{payingWith}}</div><div data-braintree-id=methods-container></div></div><div data-braintree-id=sheet-container class=braintree-sheet__container><div data-braintree-id=paypal class="braintree-paypal braintree-sheet"><div class=braintree-sheet__header><div class=braintree-sheet__header-label><div class=braintree-sheet__logo--header><svg height=24 width=40><use xlink:href=#logoPayPal></use></svg></div><div class=braintree-sheet__label>{{PayPal}}</div></div></div><div class=braintree-sheet__content--button><div data-braintree-id=paypal-button></div></div></div><div data-braintree-id=card class="braintree-card braintree-form braintree-sheet"><div class=braintree-sheet__header><div class=braintree-sheet__header-label><div class=braintree-sheet__logo--header><svg height=24 width=40 class=braintree-icon--bordered><use xlink:href=#iconCardFront></use></svg></div><div class=braintree-sheet__text>{{payWithCard}}</div></div><div data-braintree-id=card-view-icons class=braintree-sheet__icons></div></div><div class=braintree-sheet__content--form><div data-braintree-id=number-field-group class=braintree-form__field-group><div class=braintree-form__label>{{cardNumberLabel}}</div><div class=braintree-form__field><div class="braintree-form-number braintree-form__hosted-field"></div><div class=braintree-form__icon-container><div data-braintree-id=card-number-icon class="braintree-form__icon braintree-form__field-secondary-icon"><svg height=24 width=40 class=braintree-icon--bordered><use data-braintree-id=card-number-icon-svg xlink:href=#iconCardFront></use></svg></div><div class="braintree-form__icon braintree-form__field-error-icon"><svg height=24 width=24><use xlink:href=#iconError></use></svg></div></div></div><div data-braintree-id=number-field-error class=braintree-form__field-error></div></div><div class=braintree-form__flexible-fields><div data-braintree-id=expiration-date-field-group class=braintree-form__field-group><div class=braintree-form__label>{{expirationDateLabel}} <span class=braintree-form__descriptor>{{expirationDateLabelSubheading}}</span></div><div class=braintree-form__field><div class="braintree-form__hosted-field braintree-form-expiration"></div><div class=braintree-form__icon-container><div class="braintree-form__icon braintree-form__field-error-icon"><svg height=24 width=24><use xlink:href=#iconError></use></svg></div></div></div><div data-braintree-id=expiration-date-field-error class=braintree-form__field-error></div></div><div data-braintree-id=cvv-field-group class=braintree-form__field-group><div class=braintree-form__label>{{cvvLabel}} <span data-braintree-id=cvv-label-descriptor class=braintree-form__descriptor>{{cvvThreeDigitLabelSubheading}}</span></div><div class=braintree-form__field><div class="braintree-form__hosted-field braintree-form-cvv"></div><div class=braintree-form__icon-container><div data-braintree-id=cvv-icon class="braintree-form__icon braintree-form__field-secondary-icon"><svg height=24 width=40 class=braintree-icon--bordered><use data-braintree-id=cvv-icon-svg xlink:href=#iconCVVBack></use></svg></div><div class="braintree-form__icon braintree-form__field-error-icon"><svg height=24 width=24><use xlink:href=#iconError></use></svg></div></div></div><div data-braintree-id=cvv-field-error class=braintree-form__field-error></div></div><div data-braintree-id=postal-code-field-group class=braintree-form__field-group><div class=braintree-form__label>{{postalCodeLabel}}</div><div class=braintree-form__field><div class="braintree-form__hosted-field braintree-form-postal-code"></div><div class=braintree-form__icon-container><div class="braintree-form__icon braintree-form__field-error-icon"><svg height=24 width=24><use xlink:href=#iconError></use></svg></div></div></div><div data-braintree-id=postal-code-field-error class=braintree-form__field-error></div></div></div></div></div><div data-braintree-id=sheet-error class=braintree-sheet__error><div class="braintree-form__icon braintree-sheet__error-icon"><svg height=24 width=24><use xlink:href=#iconError></use></svg></div><div data-braintree-id=sheet-error-text class=braintree-sheet__error-text></div></div></div><div data-braintree-id=options class=braintree-options><div data-braintree-id=choose-a-way-to-pay class=braintree-heading>{{chooseAWayToPay}}</div><div data-braintree-id=other-ways-to-pay class=braintree-heading>{{otherWaysToPay}}</div><div data-braintree-id=payment-options-container class=braintree-options-list></div></div><div data-braintree-id=toggle class="braintree-toggle braintree-hidden"><span>{{chooseAnotherWayToPay}}</span></div></div>'},{}],9:[function(e,t,i){t.exports="<div class=braintree-method__logo><svg height=24 width=40 class=@CLASSNAME><use xlink:href=#@ICON></use></svg></div><div class=braintree-method__label>@TITLE<br><div class=braintree-method__label--small>@SUBTITLE</div></div><div class=braintree-method__check><svg height=30 width=50><use xlink:href=#iconCheck></use></svg></div>"},{}],10:[function(e,t,i){t.exports="<div class=braintree-option__logo><svg height=28 width=48 class=@CLASSNAME><use xlink:href=#@ICON></use></svg></div><div class=braintree-option__label>@OPTION_TITLE</div>"},{}],11:[function(e,t,i){t.exports='<svg data-braintree-id=svgs style="display: none"><defs><symbol id=icon-visa viewBox="0 0 53 32"><title>Visa</title><path fill=#fff d="M0 2.57C0 1.151 1.189 0 2.657 0h48.02c1.467 0 2.657 1.151 2.657 2.57v26.86c0 1.419-1.189 2.57-2.657 2.57H2.657C1.19 32 0 30.849 0 29.43V2.57z"/><path fill=#f8b600 d="M0 29.377C0 30.826 1.189 32 2.657 32h48.02c1.467 0 2.657-1.175 2.657-2.623v-2.603H.001v2.603z"/><path fill=#1a1f71 d="M0 5.227h53.333V2.624c0-1.449-1.189-2.623-2.657-2.623H2.656C1.189.001-.001 1.176-.001 2.624v2.603zm26.128 5.287l-2.815 12.637h-3.405l2.815-12.637h3.404zm14.324 8.16l1.792-4.746 1.031 4.746h-2.823zm3.8 4.477H47.4l-2.75-12.637h-2.904c-.654 0-1.206.364-1.45.926l-5.109 11.711h3.575l.71-1.887h4.367l.413 1.887zm-8.888-4.126c.015-3.335-4.801-3.52-4.769-5.01.01-.453.46-.935 1.443-1.059.488-.06 1.833-.109 3.358.566l.596-2.681c-.819-.284-1.873-.559-3.184-.559-3.366 0-5.734 1.717-5.752 4.177-.022 1.819 1.691 2.834 2.979 3.44 1.328.619 1.773 1.017 1.767 1.57-.009.848-1.059 1.223-2.036 1.237-1.713.026-2.705-.445-3.497-.799l-.618 2.77c.797.35 2.265.655 3.785.671 3.578 0 5.918-1.697 5.928-4.324zm-14.101-8.511l-5.516 12.637h-3.599L9.433 13.065c-.164-.62-.308-.848-.808-1.11-.819-.427-2.17-.826-3.359-1.075l.08-.367h5.793c.738 0 1.402.472 1.571 1.288l1.434 7.313 3.542-8.601h3.577z"/></symbol><symbol id=icon-master-card viewBox="0 0 55 32"><title>MasterCard</title><path fill=#fff d="M.667 2.57C.667 1.151 1.856 0 3.324 0h48.02c1.467 0 2.657 1.151 2.657 2.57v26.86c0 1.419-1.189 2.57-2.657 2.57H3.324C1.857 32 .667 30.849.667 29.43V2.57z"/><path fill=#000 d="M15.447 29.6v-1.814c0-.695-.425-1.149-1.152-1.149-.364 0-.758.121-1.031.514-.212-.333-.516-.514-.971-.514-.303 0-.607.091-.849.423v-.363h-.637V29.6h.637v-1.602c0-.514.273-.756.698-.756s.637.272.637.756V29.6h.637v-1.602c0-.514.303-.756.698-.756.425 0 .637.272.637.756V29.6h.698zm9.432-2.903h-1.031v-.877h-.637v.877h-.576v.575h.576v1.33c0 .665.273 1.058 1.001 1.058.273 0 .576-.091.789-.212l-.182-.544c-.182.121-.394.151-.546.151-.303 0-.425-.181-.425-.484v-1.3h1.031v-.575zm5.399-.06c-.364 0-.607.181-.758.423v-.363h-.637V29.6h.637v-1.633c0-.484.212-.756.607-.756.121 0 .273.03.394.06l.182-.605c-.121-.03-.303-.03-.425-.03zm-8.159.302c-.303-.212-.728-.302-1.183-.302-.728 0-1.213.363-1.213.937 0 .484.364.756 1.001.847l.303.03c.334.06.516.151.516.302 0 .212-.243.363-.667.363s-.758-.151-.971-.302l-.303.484c.334.242.789.363 1.244.363.849 0 1.334-.393 1.334-.937 0-.514-.394-.786-1.001-.877l-.303-.03c-.273-.03-.485-.091-.485-.272 0-.212.212-.333.546-.333.364 0 .728.151.91.242l.273-.514zm16.924-.302c-.364 0-.607.181-.758.423v-.363h-.637V29.6h.637v-1.633c0-.484.212-.756.607-.756.121 0 .273.03.394.06l.182-.605c-.121-.03-.303-.03-.425-.03zm-8.128 1.511c0 .877.607 1.512 1.547 1.512.425 0 .728-.091 1.031-.333l-.303-.514c-.243.181-.485.272-.758.272-.516 0-.88-.363-.88-.937 0-.544.364-.907.88-.937.273 0 .516.091.758.272l.303-.514c-.303-.242-.607-.333-1.031-.333-.94 0-1.547.635-1.547 1.512zm5.884 0v-1.451h-.637v.363c-.212-.272-.516-.423-.91-.423-.819 0-1.456.635-1.456 1.512s.637 1.512 1.456 1.512c.425 0 .728-.151.91-.423v.363h.637V28.15zm-2.336 0c0-.514.334-.937.88-.937.516 0 .88.393.88.937 0 .514-.364.937-.88.937-.546-.03-.88-.423-.88-.937zm-7.612-1.511c-.849 0-1.456.605-1.456 1.512s.607 1.512 1.486 1.512c.425 0 .849-.121 1.183-.393l-.303-.454c-.243.181-.546.302-.849.302-.394 0-.789-.181-.88-.695h2.153v-.242c.03-.937-.516-1.542-1.334-1.542zm0 .544c.394 0 .667.242.728.695h-1.516c.061-.393.334-.695.789-.695zm15.801.967v-2.6h-.637v1.512c-.212-.272-.516-.423-.91-.423-.819 0-1.456.635-1.456 1.512s.637 1.512 1.456 1.512c.425 0 .728-.151.91-.423v.363h.637V28.15zm-2.335 0c0-.514.334-.937.88-.937.516 0 .88.393.88.937 0 .514-.364.937-.88.937-.546-.03-.88-.423-.88-.937zm-21.291 0v-1.451h-.637v.363c-.212-.272-.516-.423-.91-.423-.819 0-1.456.635-1.456 1.512s.637 1.512 1.456 1.512c.425 0 .728-.151.91-.423v.363h.637V28.15zm-2.366 0c0-.514.334-.937.88-.937.516 0 .88.393.88.937 0 .514-.364.937-.88.937-.546-.03-.88-.423-.88-.937z"/><path fill=#ff5f00 d="M31.46 4.655h-9.553v17.113h9.553z"/><path fill=#eb001b d="M22.51 13.212c0-3.477 1.638-6.561 4.155-8.557-1.85-1.451-4.185-2.328-6.733-2.328-6.035 0-10.918 4.868-10.918 10.885s4.883 10.885 10.918 10.885c2.548 0 4.883-.877 6.733-2.328-2.517-1.965-4.155-5.08-4.155-8.557z"/><path fill=#f79e1b d="M44.345 13.212c0 6.017-4.883 10.885-10.918 10.885-2.548 0-4.883-.877-6.733-2.328 2.548-1.996 4.155-5.08 4.155-8.557s-1.638-6.561-4.155-8.557c1.85-1.451 4.185-2.328 6.733-2.328 6.035 0 10.918 4.898 10.918 10.885z"/></symbol><symbol id=icon-unionpay viewBox="0 0 53 32"><title>Union Pay</title><path fill=#fff d="M51.111 32H2.222C1 32 0 31.04 0 29.867V2.134C0 .961 1 .001 2.222.001h48.889c1.222 0 2.222.96 2.222 2.133v27.733c0 1.173-1 2.133-2.222 2.133z"/><path fill=#e21836 d="M13.169 2.667h10.835c1.513 0 2.453 1.241 2.1 2.769l-5.045 21.799C20.703 28.758 19.188 30 17.676 30H6.841c-1.513 0-2.453-1.241-2.101-2.765L9.787 5.436c.353-1.528 1.866-2.769 3.382-2.769z"/><path fill=#00447b d="M23.1 2.667h12.459c1.513 0 .831 1.241.475 2.769l-5.045 21.799C30.636 28.758 30.746 30 29.231 30h-12.46c-1.516 0-2.453-1.241-2.097-2.765l5.043-21.799c.357-1.528 1.868-2.769 3.382-2.769z"/><path fill=#007b84 d="M35.068 2.667h10.833c1.514 0 2.455 1.241 2.1 2.769l-5.044 21.799C42.603 28.758 41.088 30 39.571 30h-10.83c-1.517 0-2.456-1.241-2.1-2.765l5.042-21.799c.354-1.528 1.869-2.769 3.384-2.769z"/><path fill=#fefefe d="M36.843 18.763l-1.321 4.399h.356l-.275.908h-.355l-.083.282h-1.256l.086-.282H31.44l.258-.841h.259l1.339-4.466.267-.902h1.283l-.135.455s.342-.247.665-.332c.322-.086 2.181-.118 2.181-.118l-.275.896h-.439zm-2.259 0l-.339 1.124s.38-.173.588-.23c.211-.054.526-.076.526-.076l.245-.818h-1.019zm-.508 1.682l-.35 1.169s.388-.2.596-.262c.21-.049.528-.088.528-.088l.247-.818h-1.022zm-.817 2.729h1.022l.295-.988h-1.02l-.297.988z"/><path fill=#fefefe d="M37.407 17.867h1.369l.015.514c-.008.087.065.128.224.128h.279l-.254.848h-.739c-.641.047-.883-.23-.868-.542l-.026-.948zm.183 4.02h-1.303l.223-.755H38l.214-.688h-1.473l.253-.851h4.097l-.258.851h-1.372l-.216.688h1.378l-.227.755h-1.491l-.264.319h.604l.147.95c.016.094.018.155.048.196.03.035.211.05.317.05h.182l-.279.926h-.465c-.073 0-.178-.006-.325-.014-.14-.011-.24-.094-.333-.14-.086-.042-.212-.147-.243-.323l-.145-.948-.677.935c-.215.295-.507.519-.998.519h-.949l.248-.825h.363c.104 0 .198-.041.265-.076.07-.03.131-.065.201-.168l.986-1.401zm-14.286-2.065h3.453l-.253.829h-1.383l-.214.707h1.412l-.258.857h-1.412l-.342 1.149c-.042.127.334.145.471.145l.706-.098-.283.947h-1.593c-.127 0-.224-.018-.363-.049-.134-.033-.192-.094-.253-.186-.057-.094-.146-.171-.085-.371l.457-1.524h-.784l.26-.87h.789l.208-.707h-.783l.25-.829zm2.327-1.491h1.416l-.259.867h-1.935l-.211.183c-.089.087-.12.05-.238.116-.11.054-.34.164-.638.164h-.621l.252-.833h.187c.158 0 .265-.014.319-.049.061-.039.13-.128.209-.27l.355-.651h1.41l-.247.474zm2.022-.465h1.207l-.176.612s.381-.307.649-.416c.265-.099.866-.19.866-.19l1.953-.009-.664 2.23c-.114.382-.244.629-.325.741-.074.116-.16.211-.331.306-.166.088-.315.139-.453.153-.129.009-.326.015-.6.017h-1.881l-.532 1.765c-.049.175-.074.258-.041.305.028.042.091.09.18.09l.829-.079-.283.967h-.929c-.295 0-.51-.006-.661-.018-.144-.012-.293 0-.393-.078-.087-.077-.219-.177-.216-.281.01-.096.049-.255.109-.473l1.691-5.642zm2.563 2.254h-1.979l-.122.401h1.713c.202-.025.243.004.26-.006l.127-.396zm-1.87-.363s.386-.354 1.049-.47c.15-.029 1.092-.02 1.092-.02l.143-.477h-1.995l-.288.967z"/><path fill=#fefefe d="M31.176 21.468l-.111.535c-.048.167-.09.294-.215.402-.13.112-.287.23-.649.23l-.669.027-.005.605c-.008.172.037.155.064.182.032.03.059.043.089.054l.211-.011.639-.037-.263.884h-.735c-.514 0-.895-.012-1.021-.112-.123-.078-.14-.178-.137-.347l.047-2.36h1.172l-.015.482h.282c.096 0 .161-.01.202-.035.034-.027.061-.064.08-.124l.114-.376h.921zM14.453 9.63c-.041.19-.794 3.684-.796 3.685-.162.706-.279 1.212-.678 1.535-.228.188-.493.281-.8.281-.492 0-.782-.247-.831-.716l-.009-.16s.15-.948.151-.951c0 0 .79-3.183.931-3.603.005-.024.009-.035.012-.047-1.536.014-1.81 0-1.828-.023-.009.031-.049.23-.049.23l-.806 3.585-.07.306-.131.994c0 .294.056.535.171.739.368.647 1.415.743 2.007.743.764 0 1.479-.164 1.962-.461.84-.5 1.062-1.282 1.257-1.975l.09-.355s.814-3.307.954-3.736c.003-.024.007-.035.011-.047-1.113.012-1.441 0-1.546-.023zm4.495 6.562c-.544-.008-.736-.008-1.373.024l-.026-.048c.057-.243.116-.484.17-.731l.079-.333c.117-.519.232-1.123.247-1.306.011-.112.049-.388-.266-.388-.132 0-.271.065-.41.13-.077.276-.232 1.051-.305 1.406-.158.745-.169.829-.239 1.199l-.046.049c-.561-.008-.755-.008-1.402.024l-.03-.053c.109-.443.216-.89.319-1.331.272-1.2.335-1.659.411-2.269l.051-.037c.629-.088.782-.106 1.464-.247l.057.065-.103.383c.115-.069.225-.139.344-.201.322-.159.68-.205.876-.205.297 0 .624.084.761.431.13.31.044.692-.126 1.445l-.089.382c-.174.837-.203.99-.301 1.565l-.064.049zm2.212 0c-.328-.002-.54-.008-.746-.002-.205.002-.405.012-.71.026l-.018-.026-.02-.028c.083-.318.13-.429.171-.541s.08-.225.153-.547c.095-.42.155-.714.195-.971.044-.249.07-.461.101-.707l.025-.019.027-.024c.326-.047.535-.076.746-.11.214-.031.429-.073.767-.137l.013.03.01.029c-.063.261-.126.519-.189.784-.061.263-.123.522-.182.783-.122.552-.171.759-.2.906-.028.141-.035.218-.085.504l-.029.025-.03.024zm4.896-1.888c.191-.843.044-1.238-.144-1.479-.284-.365-.785-.483-1.305-.483-.313 0-1.057.032-1.64.573-.416.388-.611.918-.727 1.423-.117.516-.254 1.447.596 1.792.264.113.64.144.883.144.622 0 1.26-.173 1.739-.684.372-.416.54-1.033.598-1.287zm-1.425-.061c-.029.141-.152.67-.32.896-.117.165-.255.264-.409.264-.044 0-.313 0-.318-.402-.003-.198.037-.404.086-.624.144-.639.314-1.175.745-1.175.34 0 .363.398.214 1.039zm14.75 2.006c-.657-.005-.846-.005-1.455.02l-.04-.049c.167-.629.332-1.257.479-1.892.19-.826.233-1.177.297-1.659l.049-.042c.653-.094.834-.12 1.514-.247l.021.057c-.124.518-.248 1.036-.368 1.555-.251 1.088-.343 1.641-.438 2.21l-.061.046z"/><path fill=#fefefe d="M39.694 14.378c.191-.839-.577-.075-.701-.351-.188-.432-.07-1.308-.828-1.601-.292-.113-.975.034-1.56.571-.412.386-.611.91-.725 1.415-.118.508-.253 1.437.591 1.771.268.114.512.147.756.137.849-.047 1.497-1.338 1.976-1.849.37-.404.435.153.491-.094zm-1.3-.062c-.032.135-.155.67-.324.892-.111.158-.378.258-.53.258-.042 0-.309 0-.319-.398-.003-.196.038-.401.088-.624.145-.626.313-1.159.746-1.159.339 0 .484.388.338 1.03zm-8.618 1.876c-.547-.008-.733-.008-1.374.024l-.024-.048c.054-.243.116-.484.174-.731l.076-.333c.119-.519.233-1.123.246-1.306.011-.112.048-.388-.263-.388-.135 0-.271.065-.411.13-.076.276-.233 1.051-.309 1.406-.154.745-.166.829-.235 1.199l-.047.049c-.561-.008-.755-.008-1.4.024l-.029-.053c.108-.443.214-.89.317-1.331.271-1.2.334-1.659.41-2.269l.05-.037c.63-.088.783-.106 1.465-.247l.055.065-.099.383c.111-.069.226-.139.342-.201.319-.159.68-.205.874-.205.298 0 .627.084.766.431.127.31.042.692-.131 1.445l-.086.382c-.178.837-.205.99-.3 1.565l-.067.049zm5.318-4.517c-.096.435-.377.803-.739.982-.3.151-.664.163-1.042.163h-.243l.018-.098s.45-1.964.448-1.959l.012-.101.01-.078.178.019s.925.081.948.083c.366.14.516.509.41.988zm-.59-2.05c-.002 0-.452.005-.452.005-1.179.014-1.652.008-1.845-.016-.018.086-.049.242-.049.242s-.42 1.969-.42 1.971c0 0-1.01 4.187-1.058 4.383 1.027-.012 1.45-.012 1.626.006.041-.196.28-1.365.282-1.365 0 0 .203-.858.216-.889 0 0 .064-.089.129-.124h.093c.887 0 1.891 0 2.674-.583.533-.399.9-.986 1.063-1.701.042-.176.073-.386.073-.594 0-.274-.054-.545-.213-.757-.401-.565-1.196-.573-2.118-.578zm10.259 2.749l-.052-.059c-.672.135-.794.159-1.412.241l-.046.045c-.003.008-.004.02-.007.029l-.003-.009c-.461 1.07-.446.839-.821 1.68-.003-.039-.004-.065-.005-.103l-.092-1.824-.059-.059c-.704.135-.722.159-1.372.241l-.052.045c-.005.023-.007.047-.01.073l.005.01c.081.419.062.325.143.984.038.323.088.651.124.971.066.534.102.8.179 1.616-.438.731-.544 1.007-.963 1.649l.023.059c.636-.024.782-.024 1.253-.024l.104-.117c.355-.771 3.062-5.448 3.062-5.448zm-23.005.453c.36-.253.405-.602.101-.782-.308-.182-.845-.125-1.208.128-.365.249-.406.6-.099.782.304.178.844.125 1.206-.128z"/><path fill=#fefefe d="M41.651 17.886l-.53.912c-.167.311-.477.545-.971.547l-.843-.013.246-.822h.165c.085 0 .149-.006.198-.03.041-.014.073-.047.107-.096l.311-.498h1.318z"/></symbol><symbol id=icon-american-express viewBox="0 0 55 32"><title>American Express</title><path fill=#fff d="M51.778 32H2.889c-1.222 0-2.222-.96-2.222-2.133V2.134c0-1.173 1-2.133 2.222-2.133h48.889C53 .001 54 .961 54 2.134v27.733C54 31.04 53 32 51.778 32z"/><path fill=#1478be d="M9.013 16.427h3.083l-1.541-3.547zm28.125-3.125h-4.984v1.64h4.887v1.846H32.14v1.846h5.095v1.34c.831-1.025 1.772-1.955 2.7-2.98l.941-1.025c-1.246-1.34-2.492-2.775-3.738-4.101v1.435z"/><path fill=#1478be d="M51.667 9.333h-7.473L42.423 11.2l-1.661-1.867h-17.45l-1.356 3.222-1.453-3.222H7.73L2.333 22h6.435l.83-2.074h1.868l.83 2.074h28.355l1.771-1.977L44.193 22h7.473l-5.812-6.223 5.812-6.444zm-23.581 10.8H26.01v-6.956l-3.114 6.956h-1.771l-3.114-6.956-.111 6.956h-4.262l-.83-2.074H8.449l-.941 2.074H5.225l3.847-9.03h3.224l3.529 8.311v-8.311h3.529l2.809 6.015 2.491-6.015h3.432v9.03zm19.637 0h-2.698l-2.698-3.015-2.698 3.015h-9.548v-9.03h9.964l2.394 2.904 2.698-2.904h2.698l-4.151 4.563 4.041 4.467z"/></symbol><symbol id=icon-jcb viewBox="0 0 53 32"><title>JCB</title><path fill=#fff d="M51.111 32H2.222C1 32 0 31.04 0 29.867V2.134C0 .961 1 .001 2.222.001h48.889c1.222 0 2.222.96 2.222 2.133v27.733c0 1.173-1 2.133-2.222 2.133z"/><path fill=#53b230 d="M44.363 2.679h.018v.523c0 .478.001 22.023 0 22.228-.006 1.436-.684 2.803-1.829 3.661-.838.628-1.821.895-2.854.895-.582 0-6.444.033-6.473-.002-.012-.015 0-.091 0-.109V20.78c0-.051.007-.084.045-.084h7.004c1.157 0 1.792-.343 2.256-.814.586-.596.766-1.548.393-2.308-.32-.651-.981-1.04-1.659-1.217-.211-.055-.427-.091-.644-.111-.014-.001-.086.002-.095-.008-.04-.045.032-.054.052-.061.137-.044.287-.056.425-.098.711-.217 1.326-.727 1.518-1.472.199-.769-.066-1.591-.7-2.069-.454-.343-1.023-.501-1.582-.551-.57-.051-6.364-.029-6.943-.029-.098 0-.07-.027-.07-.118V7.507c0-.413.013-.821.099-1.227.167-.789.546-1.525 1.086-2.12.745-.82 1.782-1.346 2.881-1.457.636-.064 6.521-.022 7.072-.023zm-5.412 11.489c.079.362-.014.756-.273 1.024-.229.237-.54.333-.862.339-.26.005-2.3 0-2.384 0 0-.045.004-2.161.004-2.191.016-.036.024-.024.078-.024.131 0 2.286-.005 2.433.006.309.025.601.161.797.407.102.128.171.278.207.438zm-3.515 2.718c.575 0 2.303-.002 2.592 0 .322.002.624.083.868.304.301.272.436.686.377 1.087-.052.35-.259.665-.562.845-.25.148-.52.166-.802.166-.289 0-2.406.001-2.473.001 0-.045.001-2.38.001-2.402z"/><path fill=#006cb9 d="M8.766 18.518c-.08-.038-.079-.022-.094-.079-.009-.034-.007-11.152.004-11.41.054-1.269.649-2.476 1.614-3.291.688-.581 1.545-.948 2.44-1.039.528-.054 1.07-.023 1.6-.023.919 0 5.477-.018 5.494 0 .009.01.002 22.344 0 22.765-.006 1.275-.539 2.504-1.475 3.364-.674.62-1.534 1.027-2.44 1.148-.545.073-6.695.041-7.151.041-.087 0-.07.018-.087-.032-.011-.034 0-9.333 0-9.563.882.239 1.8.375 2.707.466.882.089 1.772.124 2.657.082 1.238-.058 2.595-.256 3.616-1.016.426-.317.766-.737.973-1.23.198-.471.267-.981.268-1.489.001-.463.008-5.238-.022-5.255s-3.846-.02-3.866.016c-.017.03.001 5.161 0 5.267-.004.626-.214 1.245-.686 1.669-.624.562-1.48.627-2.276.564-.916-.073-1.81-.326-2.657-.677-.21-.087-.416-.18-.621-.278z"/><path fill=#e20138 d="M21.265 13.113c-.032.026-.063.052-.094.078V8.068c0-.393-.016-.792.013-1.184.16-2.124 1.83-3.898 3.925-4.168.509-.066 7.196-.056 7.214-.035.011.013 0 .083 0 .099v22.609c-.001 1.738-.967 3.359-2.52 4.132-.673.335-1.394.469-2.14.469-.43 0-6.343.019-6.445 0-.068-.012-.031.013-.047-.03-.01-.027 0-8.729 0-9.92v-.561c.739.638 1.674.999 2.615 1.208.713.159 1.443.235 2.173.262.714.027 1.434.014 2.146-.05.728-.066 1.451-.181 2.167-.326.182-.037.364-.076.545-.118.045-.01.226-.025.25-.06.018-.026 0-.129 0-.159V18.47c-.775.389-1.588.7-2.439.87-1.039.207-2.189.264-3.18-.164-1.003-.434-1.599-1.364-1.699-2.449-.102-1.115.229-2.288 1.176-2.948.981-.685 2.267-.69 3.404-.509.846.134 1.661.408 2.434.776.102.049.204.099.305.15v-1.767c0-.028.018-.136 0-.159-.028-.037-.202-.05-.25-.061-.089-.02-.178-.04-.267-.059-.711-.153-1.429-.276-2.152-.354-.708-.077-1.422-.101-2.135-.087-.724.014-1.449.072-2.161.206-.881.166-1.76.449-2.511.954-.112.076-.221.156-.327.242z"/></symbol><symbol id=icon-discover viewBox="0 0 53 32"><title>Discover</title><path fill=#fff d="M51.111 32H2.222C1 32 0 31.04 0 29.867V2.134C0 .961 1 .001 2.222.001h48.889c1.222 0 2.222.96 2.222 2.133v27.733c0 1.173-1 2.133-2.222 2.133z"/><path fill=#f48024 d="M51.993 15.667S36.696 26.799 8.667 31.334H50.66c.736 0 1.333-.597 1.333-1.333V15.668z"/><path fill=#221f20 d="M7.109 15.677c-.45.407-1.035.585-1.96.585h-.384V11.4h.384c.925 0 1.487.166 1.96.595.495.441.793 1.126.793 1.83 0 .706-.298 1.411-.793 1.853zm-1.673-5.523H3.334v7.352h2.091c1.112 0 1.915-.262 2.62-.849.838-.694 1.333-1.74 1.333-2.822 0-2.17-1.619-3.681-3.942-3.681zm4.604 7.353h1.432v-7.352H10.04zm4.93-4.531c-.86-.318-1.112-.528-1.112-.926 0-.463.45-.815 1.067-.815.429 0 .782.177 1.155.595l.75-.983c-.616-.539-1.353-.815-2.158-.815-1.299 0-2.29.903-2.29 2.107 0 1.013.462 1.532 1.807 2.016.561.198.846.33.99.419.286.187.429.452.429.761 0 .596-.473 1.037-1.112 1.037-.683 0-1.233-.342-1.563-.981l-.925.892c.66.97 1.453 1.4 2.542 1.4 1.488 0 2.532-.991 2.532-2.414 0-1.168-.483-1.697-2.112-2.294zm2.563.86c0 2.161 1.695 3.837 3.876 3.837.617 0 1.145-.121 1.796-.428v-1.688c-.573.574-1.08.805-1.729.805-1.443 0-2.466-1.047-2.466-2.536 0-1.412 1.056-2.525 2.4-2.525.683 0 1.2.244 1.796.827v-1.687c-.629-.319-1.146-.452-1.762-.452-2.17 0-3.91 1.71-3.91 3.848zm17.03 1.256l-1.957-4.939h-1.565l3.116 7.541h.771l3.172-7.541h-1.552zm4.184 2.415h4.061v-1.245h-2.631v-1.984h2.535v-1.245h-2.535v-1.632h2.631v-1.247h-4.061zm6.862-3.968h-.418v-2.227h.441c.892 0 1.377.374 1.377 1.09 0 .739-.485 1.137-1.4 1.137zm2.874-1.214c0-1.377-.947-2.171-2.599-2.171H43.76v7.353h1.431v-2.954h.187l1.982 2.954h1.761l-2.312-3.097c1.079-.22 1.673-.959 1.673-2.084z"/><path fill=#f48024 d="M31.469 13.835c0 2.159-1.747 3.909-3.904 3.909-2.156 0-3.904-1.75-3.904-3.909s1.748-3.909 3.904-3.909c2.157 0 3.904 1.75 3.904 3.909z"/></symbol><symbol id=icon-diners-club viewBox="0 0 55 32"><title>Diners Club</title><path fill=#fff d="M51.778 32H2.889c-1.222 0-2.222-.96-2.222-2.133V2.134c0-1.173 1-2.133 2.222-2.133h48.889C53 .001 54 .961 54 2.134v27.733C54 31.04 53 32 51.778 32z"/><path fill=#fefefe d="M11.36 15.773c0-7.275 6.053-13.172 13.519-13.172s13.519 5.897 13.519 13.172-6.052 13.173-13.519 13.173S11.36 23.048 11.36 15.773z"/><path fill=#fff d="M42.696 29.333H10.667V2h32.029z"/><path fill=#004a97 d="M32.695 15.643c-.005-3.379-2.145-6.261-5.159-7.402v14.804c3.014-1.143 5.154-4.022 5.159-7.402zm-10.911 7.399v-14.8c-3.012 1.145-5.148 4.023-5.156 7.401.008 3.377 2.144 6.255 5.156 7.399zM24.661 3.13c-7 .003-12.67 5.602-12.672 12.513.001 6.91 5.672 12.508 12.672 12.51 7-.001 12.672-5.6 12.673-12.51-.002-6.91-5.674-12.51-12.673-12.513zm-.031 26.203c-7.659.036-13.964-6.09-13.964-13.548 0-8.15 6.304-13.787 13.964-13.786h3.59c7.569-.001 14.477 5.633 14.477 13.786 0 7.455-6.908 13.548-14.477 13.548h-3.59z"/></symbol><symbol id=icon-maestro viewBox="0 0 55 32"><title>Maestro</title><path fill=#fff d="M51.778 32H2.889c-1.222 0-2.222-.96-2.222-2.133V2.134c0-1.173 1-2.133 2.222-2.133h48.889C53 .001 54 .961 54 2.134v27.733C54 31.04 53 32 51.778 32z"/><path fill=#000 d="M20.225 29.853v-1.855c.031-.618-.402-1.144-1.021-1.175h-.155c-.402-.031-.804.185-1.051.525-.216-.34-.588-.556-.99-.525-.34-.031-.68.155-.866.433v-.371h-.649v2.937h.649v-1.576c-.062-.371.216-.711.588-.773h.124c.433 0 .649.278.649.773v1.638h.649v-1.638c-.062-.371.216-.742.588-.773h.124c.433 0 .649.278.649.773v1.638l.711-.031zm3.618-1.453v-1.484h-.649v.371c-.216-.278-.557-.433-.928-.433-.866 0-1.546.68-1.546 1.546s.68 1.546 1.546 1.546c.371 0 .711-.155.928-.433v.371h.649V28.4zm-2.381 0c.031-.495.464-.866.959-.835s.866.464.835.958c-.031.464-.402.835-.897.835s-.897-.371-.897-.866c-.031-.062-.031-.062 0-.093zm16.112-1.545c.217 0 .433.031.619.124.186.062.371.185.495.34.155.155.247.309.34.495.155.402.155.835 0 1.236-.062.185-.186.34-.34.495s-.309.247-.495.34c-.402.155-.866.155-1.268 0-.186-.062-.371-.185-.495-.34-.155-.155-.247-.309-.34-.495-.155-.402-.155-.835 0-1.236.062-.185.186-.34.34-.495s.309-.247.495-.34c.216-.093.433-.155.649-.124zm0 .618c-.124 0-.247.031-.371.062s-.216.124-.309.185c-.093.093-.155.185-.186.309-.093.247-.093.525 0 .773.031.124.124.216.186.309.093.093.186.155.309.185.247.093.495.093.742 0 .124-.031.216-.124.309-.185.093-.093.155-.185.186-.309.093-.247.093-.525 0-.773-.031-.124-.124-.216-.186-.309-.093-.093-.186-.155-.309-.185-.124-.062-.247-.093-.371-.062zm-10.236.927c0-.927-.588-1.546-1.392-1.546-.866 0-1.546.711-1.515 1.576s.711 1.546 1.577 1.515c.433 0 .866-.124 1.206-.402l-.309-.464c-.247.185-.557.309-.866.309-.433.031-.835-.278-.897-.711h2.196v-.278zm-2.196-.278c.031-.402.371-.711.773-.711s.742.309.742.711h-1.515zm4.886-.464c-.278-.155-.588-.247-.928-.247s-.557.124-.557.34c0 .216.216.247.495.278l.309.031c.649.093 1.021.371 1.021.896s-.495.958-1.361.958c-.464 0-.897-.124-1.268-.371l.309-.495c.278.216.619.309.99.309.433 0 .68-.124.68-.371 0-.155-.155-.247-.526-.309l-.309-.031c-.649-.093-1.021-.402-1.021-.866 0-.587.495-.958 1.237-.958.433 0 .835.093 1.206.309l-.278.525zm3.093-.154H32.07v1.329c0 .309.093.495.433.495.186 0 .402-.062.557-.155l.186.556c-.247.155-.526.216-.804.216-.773 0-1.021-.402-1.021-1.082v-1.36h-.588v-.587h.588v-.896h.649v.896h1.051v.587zm2.227-.68c.155 0 .309.031.464.093l-.186.618c-.124-.062-.278-.062-.402-.062-.433 0-.618.278-.618.773v1.669h-.649v-2.937h.649v.371c.155-.34.433-.495.742-.525z"/><path fill=#7673c0 d="M32.188 4.383h-9.741v17.496h9.741z"/><path fill=#eb001b d="M23.067 13.13c0-3.4 1.577-6.646 4.268-8.748C22.511.58 15.49 1.415 11.718 6.268c-3.804 4.822-2.969 11.839 1.886 15.61 4.051 3.184 9.711 3.184 13.762 0-2.721-2.102-4.299-5.317-4.299-8.748z"/><path fill=#00a1df d="M45.332 13.13c0 6.151-4.979 11.128-11.133 11.128-2.505 0-4.917-.835-6.865-2.38 4.824-3.771 5.659-10.788 1.886-15.61-.557-.711-1.175-1.329-1.886-1.886C32.158.58 39.179 1.415 42.982 6.268c1.515 1.947 2.35 4.389 2.35 6.862z"/></symbol><symbol id=logoPayPal viewBox="0 0 51 32"><title>PayPal Logo</title><path fill=#fff fill-opacity=0 d="M49.067 32H2.134C.961 32 .001 31.04.001 29.867V2.134C.001.961.961.001 2.134.001h46.933c1.173 0 2.133.96 2.133 2.133v27.733c0 1.173-.96 2.133-2.133 2.133z"/><path fill=#263b80 d="M33.817 18.56c.427-.747.747-1.6.96-2.56.213-.853.213-1.707.107-2.347-.107-.747-.427-1.28-.853-1.813-.213-.32-.64-.533-.96-.747.107-.853.107-1.6 0-2.24s-.427-1.173-.96-1.707c-.96-1.067-2.773-1.707-5.333-1.707h-6.933c-.533 0-.853.32-.96.853l-2.88 18.347c0 .213 0 .32.107.427s.32.213.427.213h4.373l-.32 1.92c0 .107 0 .32.107.427s.213.213.427.213h3.627c.427 0 .747-.32.853-.747v-.213l.64-4.373v-.213c.107-.427.427-.747.853-.747h.64c1.813 0 3.413-.427 4.48-1.173.64-.533 1.173-1.067 1.6-1.813z"/><path fill=#263b80 d="M23.144 11.094c0-.32.213-.533.533-.64.107-.107.213-.107.427-.107h5.44c.64 0 1.28 0 1.813.107.107 0 .32.107.427.107s.32.107.427.107c.107 0 .107 0 .213.107.32.107.533.213.747.32.32-1.707 0-2.88-.96-4.053-1.067-1.173-2.88-1.707-5.333-1.707h-6.933c-.533 0-.96.32-.96.853l-2.987 18.453c-.107.32.213.64.64.64h4.267l1.067-6.827 1.173-7.36z"/><path fill=#159bd7 d="M33.067 11.094c0 .107 0 .32-.107.427-.96 4.693-4.053 6.293-8.107 6.293h-2.027c-.533 0-.853.32-.96.853l-1.067 6.613-.32 1.92c0 .32.213.64.533.64h3.627c.427 0 .747-.32.853-.747v-.213l.64-4.373v-.213c.107-.427.427-.747.853-.747h.747c3.52 0 6.293-1.387 7.04-5.547.32-1.707.213-3.2-.747-4.16-.213-.32-.533-.533-.96-.747z"/><path fill=#232c65 d="M32.105 10.666c-.107 0-.32-.107-.427-.107s-.32-.107-.427-.107c-.533-.107-1.173-.107-1.813-.107h-5.44c-.107 0-.213 0-.427.107s-.427.32-.533.64l-1.173 7.36v.213c.107-.533.533-.853.96-.853h2.027c4.053 0 7.147-1.6 8.107-6.293 0-.107 0-.32.107-.427-.213-.107-.533-.213-.747-.32 0-.107-.107-.107-.213-.107z"/></symbol><symbol id=iconCardFront viewBox="0 0 53 32"><title>Generic Card</title><path fill=#fff d="M51.308 32H2.025C1 32 0 31.04 0 30V2C0 .96 1 0 2.025 0h49.283c1.025 0 2.025.96 2.025 2v28c0 1.04-1 2-2.025 2z"/><path fill=#828282 d="M5.333 10.444c0-.486.635-1.111 1.185-1.111h8.296c.55 0 1.185.625 1.185 1.111v4.444c0 .486-.635 1.111-1.185 1.111H6.518c-.55 0-1.185-.625-1.185-1.111v-4.444zm8 14.889h1.333c.736 0 1.333.597 1.333 1.333s-.597 1.333-1.333 1.333h-1.333c-.736 0-1.333-.597-1.333-1.333s.597-1.333 1.333-1.333zm-6.666 0H8c.736 0 1.333.597 1.333 1.333S8.736 27.999 8 27.999H6.667c-.736 0-1.333-.597-1.333-1.333s.597-1.333 1.333-1.333zm-1.334-4.666c0-1.105.891-2 2.001-2h38.665c1.105 0 2.001.888 2.001 2 0 1.105-.891 2-2.001 2H7.334c-1.105 0-2.001-.888-2.001-2zM48 7.333c0 1.841-1.492 3.333-3.333 3.333s-3.333-1.492-3.333-3.333C41.334 5.492 42.826 4 44.667 4S48 5.492 48 7.333z"/></symbol><symbol id=iconCVVBack viewBox="0 0 53 32"><title>CVV Back</title><path fill=#fff d="M51.308 32H2.025C1 32 0 31.04 0 30V2C0 .96 1 0 2.025 0h49.283c1.025 0 2.025.96 2.025 2v28c0 1.04-1 2-2.025 2z"/><path fill=#828282 d="M0 6.667h53.333V12H0V6.667z"/><path fill=#000 d="M26.667 18.362v7.276c0 .563.492 1.029 1.092 1.029h17.816c.598 0 1.092-.465 1.092-1.029v-7.276c0-.563-.492-1.029-1.092-1.029H27.759c-.598 0-1.092.465-1.092 1.029zm-1.334-.189c0-1.2 1.013-2.173 2.239-2.173H45.76c1.237 0 2.239.982 2.239 2.173v7.654c0 1.2-1.013 2.173-2.239 2.173H27.572c-1.237 0-2.239-.982-2.239-2.173v-7.654z"/><path fill=#828282 d="M33.333 22c0 1.105-.895 2-2 2s-2-.895-2-2 .895-2 2-2 2 .895 2 2zm5.334 0c0 1.105-.895 2-2 2s-2-.895-2-2 .895-2 2-2 2 .895 2 2zM44 22c0 1.105-.895 2-2 2s-2-.895-2-2 .895-2 2-2 2 .895 2 2z"/></symbol><symbol id=iconCVVFront viewBox="0 0 53 32"><title>CVV Front</title><path fill=#fff d="M51.308 32H2.025C1 32 0 31.04 0 30V2C0 .96 1 0 2.025 0h49.283c1.025 0 2.025.96 2.025 2v28c0 1.04-1 2-2.025 2z"/><path fill=#000 d="M21.333 7.695v7.276c0 .563.488 1.029 1.081 1.029h23.172c.592 0 1.081-.463 1.081-1.029V7.695c0-.563-.488-1.029-1.081-1.029H22.414c-.592 0-1.081.463-1.081 1.029zM20 7.506c0-1.2.998-2.173 2.212-2.173h23.576c1.222 0 2.212.982 2.212 2.173v7.654c0 1.2-.998 2.173-2.212 2.173H22.212c-1.222 0-2.212-.982-2.212-2.173V7.506z"/><path fill=#828282 d="M28 11.333c0 1.105-.895 2-2 2s-2-.895-2-2 .895-2 2-2 2 .895 2 2zm10.667 0c0 1.105-.895 2-2 2s-2-.895-2-2 .895-2 2-2 2 .895 2 2zm-5.334 0c0 1.105-.895 2-2 2s-2-.895-2-2 .895-2 2-2 2 .895 2 2zm10.667 0c0 1.105-.895 2-2 2s-2-.895-2-2 .895-2 2-2 2 .895 2 2zm-38.667-.889c0-.486.635-1.111 1.185-1.111h8.296c.55 0 1.185.625 1.185 1.111v4.444c0 .486-.635 1.111-1.185 1.111H6.518c-.55 0-1.185-.625-1.185-1.111v-4.444zm0 14.223c0-1.105.891-2 2.001-2h38.665c1.105 0 2.001.888 2.001 2 0 1.105-.891 2-2.001 2H7.334c-1.105 0-2.001-.888-2.001-2z"/></symbol><symbol id=iconCheck viewBox="0 0 42 32"><title>Check</title><path class=path1 d="M14.379 29.76L39.741 3.415 36.194.001l-21.815 22.79-10.86-11.17L0 15.064z"/></symbol><symbol id=iconLockLoader viewBox="0 0 28 32"><title>Lock Loader</title><path d="M6 10V8c0-4.422 3.582-8 8-8 4.41 0 8 3.582 8 8v2h-4V7.995C18 5.79 16.205 4 14 4c-2.21 0-4 1.792-4 3.995V10H6zM.997 14c-.55 0-.997.445-.997.993v16.014c0 .548.44.993.997.993h26.006c.55 0 .997-.445.997-.993V14.993c0-.548-.44-.993-.997-.993H.997z"/></symbol><symbol id=iconError height=24 viewBox="0 0 24 24" width=24><path d="M0 0h24v24H0z" fill="none"/><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/></symbol></defs></svg>';
},{}],12:[function(e,t,i){"use strict";function n(e,t){if("function"!=typeof t)throw new Error("create must include a callback function.");return t=c(t),e.authorization?void s.create({authorization:e.authorization},function(i,n){return i?void t(i):(n=r(n),"TOKENIZATION_KEY"===n.getConfiguration().authorizationType?d.sendEvent(n,"started.tokenization-key"):d.sendEvent(n,"started.client-token"),void new a({merchantConfiguration:e,client:n})._initialize(t))}):void t(new Error("options.authorization is required."))}function r(e){var t=e.getConfiguration();return t.analyticsMetadata.integration=l.INTEGRATION,t.analyticsMetadata.integrationType=l.INTEGRATION,e.getConfiguration=function(){return t},e}var o="1.0.0-beta.4",a=e("./dropin"),s=e("braintree-web/client"),c=e("./lib/deferred"),l=e("./constants"),d=e("./lib/analytics");t.exports={create:n,VERSION:o}},{"./constants":4,"./dropin":6,"./lib/analytics":13,"./lib/deferred":16,"braintree-web/client":1}],13:[function(e,t,i){"use strict";function n(e){return Math.floor(e/1e3)}function r(e,t,i){var r=e.getConfiguration(),c=e._request,l=n(Date.now()),d=r.gatewayConfiguration.analytics.url,p={analytics:[{kind:a.ANALYTICS_PREFIX+t,timestamp:l}],_meta:r.analyticsMetadata,braintreeLibraryVersion:s};"TOKENIZATION_KEY"===r.authorizationType?p.tokenizationKey=r.authorization:p.authorizationFingerprint=JSON.parse(o(r.authorization)).authorizationFingerprint,c({url:d,method:"post",data:p,timeout:a.ANALYTICS_REQUEST_TIMEOUT_MS},i)}var o=e("./polyfill").atob,a=e("../constants"),s=e("braintree-web/client").VERSION;t.exports={sendEvent:r}},{"../constants":4,"./polyfill":19,"braintree-web/client":1}],14:[function(e,t,i){"use strict";function n(e){var t,i,n;for(t=1;t<arguments.length;t++){i=arguments[t];for(n in i)i.hasOwnProperty(n)&&(e[n]=i[n])}return e}var r="function"==typeof Object.assign?Object.assign:n;t.exports={assign:r,_assign:n}},{}],15:[function(e,t,i){"use strict";function n(e){return e.className.trim().split(/\s+/)}function r(e,t){return new RegExp("\\b"+t+"\\b").test(e.className)}function o(e){var t=Array.prototype.slice.call(arguments,1),i=n(e).filter(function(e){return t.indexOf(e)===-1}).concat(t).join(" ");e.className=i}function a(e){var t=Array.prototype.slice.call(arguments,1),i=n(e).filter(function(e){return t.indexOf(e)===-1}).join(" ");e.className=i}function s(e,t,i){arguments.length<3?r(e,t)?a(e,t):o(e,t):i?o(e,t):a(e,t)}t.exports={add:o,remove:a,toggle:s}},{}],16:[function(e,t,i){"use strict";t.exports=function(e){return function(){var t=arguments;setTimeout(function(){e.apply(null,t)},1)}}},{}],17:[function(e,t,i){"use strict";function n(){this._events={}}n.prototype.on=function(e,t){this._events[e]?this._events[e].push(t):this._events[e]=[t]},n.prototype._emit=function(e){var t,i,n=this._events[e];if(n)for(i=Array.prototype.slice.call(arguments,1),t=0;t<n.length;t++)n[t].apply(null,i)},t.exports=n},{}],18:[function(e,t,i){"use strict";var n=e("./polyfill").atob;t.exports=function(e){var t,i=e.getConfiguration();return"TOKENIZATION_KEY"===i.authorizationType||(t=JSON.parse(n(i.authorization)).authorizationFingerprint,!t||t.indexOf("customer_id=")===-1)}},{"./polyfill":19}],19:[function(e,t,i){(function(e){"use strict";function i(e){var t,i,n,r,o,a,s,c,l=new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$"),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",p="";if(!l.test(e))throw new Error("Non base64 encoded input passed to window.atob polyfill");c=0;do r=d.indexOf(e.charAt(c++)),o=d.indexOf(e.charAt(c++)),a=d.indexOf(e.charAt(c++)),s=d.indexOf(e.charAt(c++)),t=(63&r)<<2|o>>4&3,i=(15&o)<<4|a>>2&15,n=(3&a)<<6|63&s,p+=String.fromCharCode(t)+(i?String.fromCharCode(i):"")+(n?String.fromCharCode(n):"");while(c<e.length);return p}var n="function"==typeof e.atob?e.atob:i;t.exports={atob:n,_atob:i}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],20:[function(e,t,i){"use strict";t.exports=function(){var e=document.createElement("div"),t="flex-basis: 1px",i=["-webkit-","-moz-","-ms-","-o-",""];return i.forEach(function(i){e.style.cssText+=i+t}),Boolean(e.style.length)}},{}],21:[function(e,t,i){"use strict";function n(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,i="x"===e?t:3&t|8;return i.toString(16)})}t.exports=n},{}],22:[function(e,t,i){"use strict";t.exports={addPaymentMethod:"Add A Payment Method",changePaymentMethod:"Change Payment Method",choosePaymentMethod:"Choose a payment method",payingWith:"Paying with",savedPaymentMethods:"Saved Payment Methods",chooseAnotherWayToPay:"Choose another way to pay",chooseAWayToPay:"Choose a way to pay",otherWaysToPay:"Other ways to pay",fieldEmptyForCvv:"Please fill out a CVV.",fieldEmptyForExpirationDate:"Please fill out an expiration date.",fieldEmptyForNumber:"Please fill out a card number.",fieldEmptyForPostalCode:"Please fill out a postal code.",fieldInvalidForCvv:"This security code is not valid.",fieldInvalidForExpirationDate:"This expiration date is not valid.",fieldInvalidForNumber:"This card number is not valid.",fieldInvalidForPostalCode:"This postal code is not valid.",genericError:"Something went wrong on our end.",hostedFieldsFailedTokenizationError:"Please check your information and try again.",hostedFieldsTokenizationNetworkErrorError:"Network error. Please try again.",hostedFieldsFieldsInvalidError:"Please check your information and try again.",paypalAccountTokenizationFailedError:"Something went wrong adding the PayPal account. Please try again.",paypalFlowFailedError:"Something went wrong connecting to PayPal. Please try again.",paypalTokenizationRequestActiveError:"PayPal payment authorization is already in progress.",unsupportedCardTypeError:"This card type is not supported. Please try another card.",cardNumberLabel:"Card Number",cvvLabel:"CVV",cvvThreeDigitLabelSubheading:"(3 digits)",cvvFourDigitLabelSubheading:"(4 digits)",expirationDateLabel:"Expiration Date",expirationDateLabelSubheading:"(MM/YY)",postalCodeLabel:"Postal Code",payWithCard:"Pay with card",endingIn:"Ending in ",Card:"Card",PayPal:"PayPal","American Express":"American Express",Discover:"Discover","Diners Club":"Diners Club",MasterCard:"MasterCard",Visa:"Visa",JCB:"JCB",Maestro:"Maestro",UnionPay:"UnionPay"}},{}],23:[function(e,t,i){"use strict";var n=e("../lib/assign").assign;t.exports=n({},e("./en"),{postalCodeLabel:"Postcode"})},{"../lib/assign":14,"./en":22}],24:[function(e,t,i){"use strict";t.exports={postalCodeLabel:"Cdigo Postal"}},{}],25:[function(e,t,i){"use strict";t.exports={en:e("./en"),en_GB:e("./en_GB"),es:e("./es")}},{"./en":22,"./en_GB":23,"./es":24}],26:[function(e,t,i){"use strict";function n(e){e=e||{},r(this,e)}var r=e("../lib/assign").assign,o=e("../constants").errors;n.prototype.getElementById=function(e){return this.element?this.element.querySelector('[data-braintree-id="'+e+'"]'):null},n.prototype.requestPaymentMethod=function(e){e(new Error(o.NO_PAYMENT_METHOD_ERROR))},n.prototype.teardown=function(e){e()},t.exports=n},{"../constants":4,"../lib/assign":14}],27:[function(e,t,i){"use strict";function n(){c.apply(this,arguments),this.dependenciesInitializing=0,this._initialize()}function r(e){return e.toLowerCase().replace(/(\_\w)/g,function(e){return e[1].toUpperCase()})}function o(e){return"braintree-"+e}var a=e("../lib/analytics"),s=e("../constants").analyticsKinds,c=e("./base-view"),l=e("../lib/classlist"),d=e("./payment-sheet-views"),p=e("./payment-methods-view"),u=e("./payment-options-view"),h=e("../lib/supports-flexbox");n.prototype=Object.create(c.prototype),n.prototype.constructor=n,n.prototype._initialize=function(){var e,t,i=this.model.supportedPaymentOptions.length>1,n=this.model.getPaymentMethods();this._views={},this.sheetContainer=this.getElementById("sheet-container"),this.sheetErrorText=this.getElementById("sheet-error-text"),this.toggle=this.getElementById("toggle"),this.loadingContainer=this.getElementById("loading-container"),this.loadingIndicator=this.getElementById("loading-indicator"),this.dropinContainer=this.element.querySelector(".braintree-dropin"),this.supportsFlexbox=h(),this.model.on("loadBegin",this.showLoadingIndicator.bind(this)),this.model.on("loadEnd",this.hideLoadingIndicator.bind(this)),this.model.on("errorOccurred",this.showSheetError.bind(this)),this.model.on("errorCleared",this.hideSheetError.bind(this)),this.paymentSheetViewIDs=Object.keys(d).reduce(function(e,t){var i,n;return this.model.supportedPaymentOptions.indexOf(t)!==-1&&(i=d[t],n=new i({element:this.getElementById(i.ID),mainView:this,model:this.model,client:this.client,strings:this.strings}),this.addView(n),e.push(n.ID)),e}.bind(this),[]),e=new p({element:this.getElementById(p.ID),model:this.model,strings:this.strings}),this.addView(e),this.toggle.addEventListener("click",this.toggleAdditionalOptions.bind(this)),this.model.on("changeActivePaymentMethod",function(){this.setPrimaryView(p.ID)}.bind(this)),this.model.on("changeActivePaymentView",function(t){t===p.ID?(l.add(e.element,"braintree-methods--active"),l.remove(this.sheetContainer,"braintree-sheet--active")):(l.add(this.sheetContainer,"braintree-sheet--active"),l.remove(e.element,"braintree-methods--active"))}.bind(this)),i&&(t=new u({client:this.client,element:this.getElementById(u.ID),mainView:this,model:this.model,strings:this.strings}),this.addView(t)),n.length>0?this.model.changeActivePaymentMethod(n[0]):i?this.setPrimaryView(t.ID):this.setPrimaryView(this.paymentSheetViewIDs[0])},n.prototype.addView=function(e){this._views[e.ID]=e},n.prototype.getView=function(e){return this._views[e]},n.prototype.setPrimaryView=function(e){this.primaryView&&this.primaryView.closeFrame&&this.primaryView.closeFrame(),this.element.className=o(e),this.primaryView=this.getView(e),this.model.changeActivePaymentView(e),this.paymentSheetViewIDs.indexOf(e)!==-1?this.model.getPaymentMethods().length>0||this.getView(u.ID)?this.showToggle():this.hideToggle():e===p.ID?this.showToggle():e===u.ID&&this.hideToggle(),this.supportsFlexbox||(this.element.className+=" braintree-dropin__no-flexbox"),this.model.clearError(),this.model.endLoading()},n.prototype.requestPaymentMethod=function(e){var t=this.getView(this.model.getActivePaymentView());t.requestPaymentMethod(function(t,i){return t?(a.sendEvent(this.client,"request-payment-method.error"),void e(t)):(this.setPrimaryView(p.ID),a.sendEvent(this.client,"request-payment-method."+s[i.type]),void e(null,i))}.bind(this))},n.prototype.showLoadingIndicator=function(){l.remove(this.loadingIndicator,"braintree-loader__indicator--inactive"),l.remove(this.loadingContainer,"braintree-loader__container--inactive"),l.add(this.dropinContainer,"braintree-hidden")},n.prototype.hideLoadingIndicator=function(){setTimeout(function(){l.add(this.loadingIndicator,"braintree-loader__indicator--inactive")}.bind(this),200),setTimeout(function(){l.add(this.loadingContainer,"braintree-loader__container--inactive"),l.remove(this.dropinContainer,"braintree-hidden")}.bind(this),1e3)},n.prototype.toggleAdditionalOptions=function(){var e,t=this.model.supportedPaymentOptions.length>1,i=this.paymentSheetViewIDs.indexOf(this.primaryView.ID)!==-1;this.hideToggle(),t?i?0===this.model.getPaymentMethods().length?this.setPrimaryView(u.ID):(this.setPrimaryView(p.ID),this.hideToggle(),l.add(this.element,o(u.ID))):l.add(this.element,o(u.ID)):(e=this.paymentSheetViewIDs[0],l.add(this.element,o(e)),this.model.changeActivePaymentView(e))},n.prototype.showToggle=function(){l.remove(this.toggle,"braintree-hidden")},n.prototype.hideToggle=function(){l.add(this.toggle,"braintree-hidden")},n.prototype.showSheetError=function(e){var t=this.strings.genericError;e&&e.code&&this.strings[r(e.code)+"Error"]?t=this.strings[r(e.code)+"Error"]:e&&e.message&&(t=e.message),l.add(this.sheetContainer,"braintree-sheet--has-error"),this.sheetErrorText.textContent=t},n.prototype.hideSheetError=function(){l.remove(this.sheetContainer,"braintree-sheet--has-error")},n.prototype.teardown=function(e){var t,i=Object.keys(this._views),n=i.length,r=0;i.forEach(function(i){this._views[i].teardown(function(i){i&&(t=i),r+=1,r>=n&&e(t)})}.bind(this))},t.exports=n},{"../constants":4,"../lib/analytics":13,"../lib/classlist":15,"../lib/supports-flexbox":20,"./base-view":26,"./payment-methods-view":29,"./payment-options-view":30,"./payment-sheet-views":32}],28:[function(e,t,i){"use strict";function n(){r.apply(this,arguments),this._initialize()}var r=e("./base-view"),o=e("../lib/classlist"),a=e("../constants"),s=e("../html/payment-method.html");n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype._initialize=function(){var e=s,t=a.paymentMethodCardTypes,i=a.paymentMethodTypes;switch(this.element=document.createElement("div"),this.element.className="braintree-method",this.element.addEventListener("click",function(){this.model.changeActivePaymentMethod(this.paymentMethod)}.bind(this)),this.paymentMethod.type){case i.card:e=e.replace(/@ICON/g,"icon-"+t[this.paymentMethod.details.cardType]).replace(/@CLASSNAME/g," braintree-icon--bordered").replace(/@TITLE/g,this.strings.endingIn+this.paymentMethod.details.lastTwo).replace(/@SUBTITLE/g,this.strings[this.paymentMethod.details.cardType]);break;case i.paypal:e=e.replace(/@ICON/g,"logoPayPal").replace(/@CLASSNAME/g,"").replace(/@TITLE/g,this.paymentMethod.details.email).replace(/@SUBTITLE/g,this.strings.PayPal)}this.element.innerHTML=e},n.prototype.setActive=function(e){o.toggle(this.element,"braintree-method--active",e)},t.exports=n},{"../constants":4,"../html/payment-method.html":9,"../lib/classlist":15,"./base-view":26}],29:[function(e,t,i){"use strict";function n(){r.apply(this,arguments),this._initialize()}var r=e("./base-view"),o=e("./payment-method-view");n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.ID=n.prototype.ID="methods",n.prototype._initialize=function(){var e,t=this.model.getPaymentMethods();for(this.views=[],this.container=this.getElementById("methods-container"),this.model.on("addPaymentMethod",this._addPaymentMethod.bind(this)),this.model.on("changeActivePaymentMethod",this._changeActivePaymentMethodView.bind(this)),e=t.length-1;e>=0;e--)this._addPaymentMethod(t[e])},n.prototype._addPaymentMethod=function(e){var t=new o({model:this.model,paymentMethod:e,strings:this.strings});this.model.isGuestCheckout&&this.container.firstChild&&(this.container.removeChild(this.container.firstChild),this.views.pop()),this.container.firstChild?this.container.insertBefore(t.element,this.container.firstChild):this.container.appendChild(t.element),this.views.push(t)},n.prototype._changeActivePaymentMethodView=function(e){var t,i,n=this.activeMethodView;for(i=0;i<this.views.length;i++)if(this.views[i].paymentMethod===e){t=this.views[i];break}n&&n.setActive(!1),this.activeMethodView=t,this.activeMethodView.setActive(!0)},n.prototype.requestPaymentMethod=function(e){e(null,this.activeMethodView.paymentMethod)},t.exports=n},{"./base-view":26,"./payment-method-view":28}],30:[function(e,t,i){"use strict";function n(){o.apply(this,arguments),this._initialize()}var r=e("../lib/analytics"),o=e("./base-view"),a=e("../html/payment-option.html"),s=e("../constants").paymentOptionIDs;n.prototype=Object.create(o.prototype),n.prototype.constructor=n,n.ID=n.prototype.ID="options",n.prototype._initialize=function(){this.container=this.getElementById("payment-options-container"),this.model.supportedPaymentOptions.forEach(function(e){this._addPaymentOption(e)}.bind(this))},n.prototype._addPaymentOption=function(e){var t=document.createElement("div"),i=a;switch(t.className="braintree-option",e){case s.card:i=i.replace(/@ICON/g,"iconCardFront"),i=i.replace(/@OPTION_TITLE/g,this.strings.Card),i=i.replace(/@CLASSNAME/g,"braintree-icon--bordered");break;case s.paypal:i=i.replace(/@ICON/g,"logoPayPal"),i=i.replace(/@OPTION_TITLE/g,this.strings.PayPal),i=i.replace(/@CLASSNAME/g,"")}t.innerHTML=i,t.addEventListener("click",function(){this.mainView.setPrimaryView(e),r.sendEvent(this.client,"selected."+s[e])}.bind(this)),this.container.appendChild(t)},t.exports=n},{"../constants":4,"../html/payment-option.html":10,"../lib/analytics":13,"./base-view":26}],31:[function(e,t,i){"use strict";function n(){a.apply(this,arguments),this._initialize()}function r(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function o(e){return e[0].toUpperCase()+e.substr(1)}var a=e("../base-view"),s=e("../../html/card-icons.html"),c=e("../../lib/classlist"),l=e("../../constants"),d=e("braintree-web/hosted-fields");n.prototype=Object.create(a.prototype),n.prototype.constructor=n,n.ID=n.prototype.ID=l.paymentOptionIDs.card,n.prototype._initialize=function(){var e,t,i=this.getElementById("card-view-icons"),n=this.client.getConfiguration().gatewayConfiguration.challenges,r=n.indexOf("cvv")!==-1,o=n.indexOf("postal_code")!==-1,a={client:this.client,fields:{number:{selector:this._generateFieldSelector("number"),placeholder:"   "},expirationDate:{selector:this._generateFieldSelector("expiration"),placeholder:"MM / YY"},cvv:{selector:this._generateFieldSelector("cvv"),placeholder:""},postalCode:{selector:this._generateFieldSelector("postal-code"),placeholder:"ZIP"}},styles:{input:{"font-size":"16px","font-family":'-apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif',color:"#000"},":focus":{color:"black"},"::-webkit-input-placeholder":{color:"rgba(0,0,0,0.25)"},":-moz-placeholder":{color:"rgba(0,0,0,0.25)"},"::-moz-placeholder":{color:"rgba(0,0,0,0.25)"},":-ms-input-placeholder ":{color:"rgba(0,0,0,0.25)"}}};i.innerHTML=s,this._hideUnsupportedCardIcons(),this.cardNumberIcon=this.getElementById("card-number-icon"),this.cardNumberIconSvg=this.getElementById("card-number-icon-svg"),this.cvvIcon=this.getElementById("cvv-icon"),this.cvvIconSvg=this.getElementById("cvv-icon-svg"),this.cvvLabelDescriptor=this.getElementById("cvv-label-descriptor"),this.fieldErrors={},r||(e=this.getElementById("cvv-field-group"),e.parentNode.removeChild(e),delete a.fields.cvv),o||(t=this.getElementById("postal-code-field-group"),t.parentNode.removeChild(t),delete a.fields.postalCode),this.model.beginLoading(),this.model.asyncDependencyStarting(),d.create(a,function(e,t){return e?(this.model.reportError(e),void this.model.endLoading()):(this.hostedFieldsInstance=t,this.hostedFieldsInstance.on("blur",this._onBlurEvent.bind(this)),this.hostedFieldsInstance.on("cardTypeChange",this._onCardTypeChangeEvent.bind(this)),this.hostedFieldsInstance.on("focus",this._onFocusEvent.bind(this)),this.hostedFieldsInstance.on("notEmpty",this._onNotEmptyEvent.bind(this)),this.hostedFieldsInstance.on("validityChange",this._onValidityChangeEvent.bind(this)),this.model.asyncDependencyReady(),void this.model.endLoading())}.bind(this))},n.prototype.tokenize=function(e){var t,i,n=!0,r=this.hostedFieldsInstance.getState(),a=this.client.getConfiguration().gatewayConfiguration.creditCards.supportedCardTypes;if(Object.keys(r.fields).forEach(function(e){var t=r.fields[e];t.isEmpty?(this.showFieldError(e,this.strings["fieldEmptyFor"+o(e)]),n=!1):t.isValid||(this.showFieldError(e,this.strings["fieldInvalidFor"+o(e)]),n=!1)}.bind(this)),n){if(t=l.configurationCardTypes[r.cards[0].type],i=!n||a.indexOf(t)!==-1,!i)return this.showFieldError("number",this.strings.unsupportedCardTypeError),this.model.reportError({message:this.strings.hostedFieldsFieldsInvalidError}),void e(new Error(l.errors.NO_PAYMENT_METHOD_ERROR));this.model.beginLoading(),this.hostedFieldsInstance.tokenize({vault:!this.model.isGuestCheckout},function(t,i){return this.model.endLoading(),t?(this.model.reportError(t),void e(new Error(l.errors.NO_PAYMENT_METHOD_ERROR))):(Object.keys(r.fields).forEach(function(e){this.hostedFieldsInstance.clear(e)}.bind(this)),this.model.addPaymentMethod(i),void e(null,i))}.bind(this))}else this.model.reportError({message:this.strings.hostedFieldsFieldsInvalidError}),e(new Error(l.errors.NO_PAYMENT_METHOD_ERROR))},n.prototype.showFieldError=function(e,t){var i,n=this.getElementById(r(e)+"-field-group");this.fieldErrors.hasOwnProperty(e)||(this.fieldErrors[e]=this.getElementById(r(e)+"-field-error")),c.add(n,"braintree-form__field-group--has-error"),i=this.fieldErrors[e],i.textContent=t},n.prototype.hideFieldError=function(e){var t=this.getElementById(r(e)+"-field-group");this.fieldErrors.hasOwnProperty(e)||(this.fieldErrors[e]=this.getElementById(r(e)+"-field-error")),c.remove(t,"braintree-form__field-group--has-error")},n.prototype.teardown=function(e){this.hostedFieldsInstance.teardown(e)},n.prototype._generateFieldSelector=function(e){return"#braintree--dropin__"+this.model.componentID+" .braintree-form-"+e},n.prototype._onBlurEvent=function(e){var t=e.fields[e.emittedBy],i=this.getElementById(r(e.emittedBy)+"-field-group");c.remove(i,"braintree-form__field-group--is-focused"),t.isEmpty?this.showFieldError(e.emittedBy,this.strings["fieldEmptyFor"+o(e.emittedBy)]):t.isValid?"number"!==e.emittedBy||this._isCardTypeSupported(e.cards[0].type)||this.showFieldError("number",this.strings.unsupportedCardTypeError):this.showFieldError(e.emittedBy,this.strings["fieldInvalidFor"+o(e.emittedBy)])},n.prototype._onCardTypeChangeEvent=function(e){var t,i="#iconCardFront",n="#iconCVVBack",r="(3 digits)",o="",a=this.getElementById("number-field-group");1===e.cards.length?(t=e.cards[0].type,i="#icon-"+t,"american-express"===t&&(n="#iconCVVFront",r="(4 digits)",o=""),c.add(a,"braintree-form__field-group--card-type-known")):c.remove(a,"braintree-form__field-group--card-type-known"),this.cardNumberIconSvg.setAttribute("xlink:href",i),this.cvvIconSvg.setAttribute("xlink:href",n),this.cvvLabelDescriptor.textContent=r,this.hostedFieldsInstance.setPlaceholder("cvv",o)},n.prototype._onFocusEvent=function(e){var t=this.getElementById(r(e.emittedBy)+"-field-group");c.add(t,"braintree-form__field-group--is-focused")},n.prototype._onNotEmptyEvent=function(e){this.hideFieldError(e.emittedBy)},n.prototype._onValidityChangeEvent=function(e){var t,i=e.fields[e.emittedBy];t="number"===e.emittedBy&&e.cards[0]?i.isValid&&this._isCardTypeSupported(e.cards[0].type):i.isValid,c.toggle(i.container,"braintree-form__field--valid",t),i.isPotentiallyValid&&this.hideFieldError(e.emittedBy)},n.prototype.requestPaymentMethod=function(e){this.tokenize(e)},n.prototype._hideUnsupportedCardIcons=function(){var e=this.client.getConfiguration().gatewayConfiguration.creditCards.supportedCardTypes;Object.keys(l.configurationCardTypes).forEach(function(t){var i,n=l.configurationCardTypes[t];e.indexOf(n)===-1&&(i=this.getElementById(t+"-card-icon"),c.add(i,"braintree-hidden"))}.bind(this))},n.prototype._isCardTypeSupported=function(e){var t=l.configurationCardTypes[e],i=this.client.getConfiguration().gatewayConfiguration.creditCards.supportedCardTypes;return i.indexOf(t)!==-1},t.exports=n},{"../../constants":4,"../../html/card-icons.html":7,"../../lib/classlist":15,"../base-view":26,"braintree-web/hosted-fields":2}],32:[function(e,t,i){"use strict";var n=e("../../constants").paymentOptionIDs,r={};r[n.card]=e("./card-view"),r[n.paypal]=e("./paypal-view"),t.exports=r},{"../../constants":4,"./card-view":31,"./paypal-view":33}],33:[function(e,t,i){"use strict";function n(){r.apply(this,arguments),this._initialize()}var r=e("../base-view"),o=e("../../constants").paymentOptionIDs,a=e("braintree-web/paypal");n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.ID=n.prototype.ID=o.paypal,n.prototype._initialize=function(){this._createPayPalButton(),this._authInProgress=!1,this.model.asyncDependencyStarting(),a.create({client:this.client},function(e,t){return e?void console.error(e):(this.paypalInstance=t,this.paypalButton=this.getElementById("paypal-button"),this.paypalButton.addEventListener("click",this._onSelect.bind(this)),void this.model.asyncDependencyReady())}.bind(this))},n.prototype._createPayPalButton=function(){var e=this.getElementById("paypal-button"),t=document.createElement("script"),i={"data-merchant":"braintree","data-button":"checkout","data-button_type":"button","data-color":"gold","data-size":"small"};t.src="https://www.paypalobjects.com/api/button.js",t.async=!0,Object.keys(i).forEach(function(e){t.setAttribute(e,i[e])}),e.appendChild(t)},n.prototype._tokenize=function(){var e;this._authInProgress=!0,e=this.paypalInstance.tokenize(this.model.merchantConfiguration.paypal,function(e,t){return this._authInProgress=!1,e?void("PAYPAL_POPUP_CLOSED"!==e.code&&("MERCHANT"===e.type?(console.error(e),this.model.reportError(null)):this.model.reportError(e))):void this.model.addPaymentMethod(t)}.bind(this)),this._focusFrame=e.focus,this.closeFrame=e.close},n.prototype._onSelect=function(e){e.preventDefault(),this._authInProgress?this._focusFrame():this._tokenize()},t.exports=n},{"../../constants":4,"../base-view":26,"braintree-web/paypal":3}]},{},[12])(12)});
